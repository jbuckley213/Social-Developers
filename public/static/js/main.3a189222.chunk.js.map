{"version":3,"sources":["lib/auth-service.js","lib/user-service.js","context/auth-context.js","components/Navbar.js","pages/Home.js","styles/login.js","pages/Signup.js","pages/Login.js","lib/post-service.js","styles/themes.js","components/Posts/Post.js","styles/fade.js","pages/Private.js","components/Comment/Comment.js","components/DropDownComments/DropDownComment.js","lib/conversation-service.js","components/SeachResult/SearchResult.js","components/PopupLikes/PopupLikes.js","components/Posts/PostHook.js","components/PostMenuDropDown/PostMenuDropDown.js","components/PostInput/PostInput.js","styles/new-user-popup.js","components/NewUserPopup/NewUserPopup.js","pages/PrivateHook.js","pages/Search.js","components/Notifications/Notifications.js","components/EditProfile/EditProfile.js","components/Settings/Settings.js","styles/profile-button.js","components/UserPost/UserPost.js","pages/Profile.js","pages/ProfileHook.js","styles/likeitem.js","pages/PostDetails.js","styles/message-preview.js","components/ConversationListItem/ConversationListItem.js","styles/message-header.js","components/ConversationDetailsDesktop/ConversationDetailsDesktop.js","pages/ConversationList.js","pages/ConversationListDesktop.js","pages/ConversationDetails.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["socket","io","process","authService","this","auth","axios","create","baseURL","withCredentials","firstName","lastName","image","email","password","console","log","post","then","response","data","emit","get","userService","getAll","api","getOne","id","follow","put","unfollow","deleteNotification","notificationId","seenNotification","editPhoto","darkView","darkMode","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","isDark","isNewUser","signup","setState","catch","err","login","logout","me","toggleTheme","mode","apiResponse","closeNewUser","value","props","children","Component","withAuth","WrappedComponent","newMessages","newNotification","startSocket","conversations","forEach","conversation","room","_id","error","on","message","userId","userLiked","getMessageNotification","length","notification","getMessageUnread","totalUnreadMessages","reduce","total","notifications","setMessagesZero","setNotificationsZero","className","activeClassName","to","onClick","Badge","badgeContent","color","max","Home","src","alt","AuthStyle","styled","div","css","SignUpStyle","handleFormSubmit","event","preventDefault","handleChange","target","name","handleFileUpload","e","files","file","uploadData","FormData","append","secure_url","onSubmit","type","onChange","style","width","required","errorMessage","class","postService","getAllPostsByFollowedUsers","getById","postId","createPost","postedBy","postContent","postPhoto","code","likePost","unlikePost","comment","commentContent","delete","deleteComment","commentId","Theme","dark","ThemeConversation","isliked","numberOfLikes","numberOfComments","showPhoto","highlightedContent","countNumberOfLikes","likes","countNumberOfComments","comments","socketLike","handleLike","isLiked","postLiked","postUnliked","outputDate","dateString","date","Date","day","toDateString","split","slice","join","toLocaleString","reverse","toggleShowPicture","highlightSearchInput","searchWord","toLowerCase","capitalSeachWord","toUpperCase","map","word","includes","likeId","i","fontSize","fadeIn","keyframes","users","posts","newPosts","handlePostsFollowedApi","orderPosts","postsArr","push","sort","a","b","handleInput","postWithSocket","handleSubmit","createdPost","window","scrollTo","placeholder","isAdmin","handleIsAdmin","createdBy","getPostDetails","href","useState","setComment","setComments","useEffect","handlePostById","socketComment","layout","initial","opacity","animate","exit","autoComplete","createConversation","getConversations","getConversationOne","conversationId","sendMessage","messageContent","userSentToId","messageSeen","deleteMessage","messageId","isFollowing","hasConversation","isCurrentUser","handleIsCurrentUser","userSearch","currentUser","checkFollow","currentUserFollowing","following","userSearchId","checkConversation","currentUserConversations","handleFollow","UserService","handleUnfollow","conversationService","PopupLikes","toggleShowLikes","like","setIsLiked","setNumberOfLikes","setNumberOfComments","setShowPhoto","postContentLinks","setPostContentLinks","showLikes","setShowLikes","isOpen","setIsOpen","liked","handlePostContentWithLinks","postContentWithLinks","startsWith","li","borderRadius","updateNumberOfLikes","makeStyles","theme","root","display","paper","zIndex","marginRight","spacing","showCodeInput","setShowCodeInput","useReducer","newState","input","setInput","showCodeAndImageInput","setshowCodeAndImageInput","toggleCodeInput","toggleCodeAndImageInput","handleComponentSubmit","PopUp","tutorialSteps","title","step","icon","useStyles","height","flexGrow","border","header","alignItems","paddingTop","background","paddingLeft","content","flexDirection","buttons","btn","classes","useTheme","useMediaQuery","activeStep","setActiveStep","maxSteps","Paper","square","elevation","Typography","margin","Divider","variant","axis","direction","index","onChangeIndex","enableMouseEvents","Math","abs","label","MobileStepper","steps","position","nextButton","Button","size","prevActiveStep","disabled","backButton","setUsers","setPosts","setNewPosts","newPostsCreated","ul","searchResults","setSearchResults","searchInput","setSearchInput","searchPosts","setSearchPosts","searchPostsFirstThree","setSearchPostsFirstThree","seeMorePosts","setSeeMorePosts","showPosts","setShowPosts","filterSearch","handlePosts","listOfUsers","filteredUsers","filter","listOfPosts","lowercaseFirstName","lowercaseLastName","fullName","lowercaseSearch","handleSearchResults","filteredPosts","lowercasePost","firstThreePosts","splice","handlePostSearchResults","filterNotifications","filteredNotifications","reduceNotifications","toggleNotifications","notificationInfo","userActivity","EditProfile","showEdit","isFollowed","showSettings","toggleEdit","followers","userFollowing","toggleSettings","ProfileButton","highlight","showDelete","toggleDelete","deletePost","showFollowing","postInput","showNotifications","numberOfNotifications","handlePostApi","mount","profileId","match","params","displayPosts","setFollowing","componentDidUpdate","socketFollow","displayLikes","displayFollowing","userProfile","filteredFollowing","getNumberOfFollowers","created_at","UserPost","setUser","setIsAdmin","setIsFollowed","setUserId","setShowFollowing","setShowNotifications","setNumberOfNotifications","setNewNotification","Object","keys","spring","stiffness","damping","layoutId","borderColor","transition","PostHook","LikeItem","commentInput","setLike","toggleLikes","showCommentInput","handlePostLinks","postContentWithLinkSplit","postContentWithLink","MessagePreview","MessagePreviewSelected","isSelected","unreadMessages","isOnline","conversationSelected","checkOnline","onlineArr","online","receiverUserId","receiverUser","onlineUser","checkNotifications","currentUserId","handleSelected","currentConversation","selected","messageArrLength","messages","userSent","updated_at","MessageHeader","intervalId","userContact","isTyping","getConversation","seenMessage","sendDelete","getMessages","filterCurrentUser","getConversationMount","sendObj","scrollToBottom","userContactId","filteredUserArr","setTimerFromApiCall","setInterval","checkSeen","notificationsArr","messagesArr","lastMessage","el","scrollIntoView","ref","sortConversations","sortedConversation","userArr","handleConversationChoosen","userIdArr","values","ConversationDetailsDesktop","behavior","routeProps","ComponentToShow","component","exact","path","render","innerWidth","Signup","Login","PrivateHook","Search","ProfileHook","PostDetails","ConversationList","ConversationDetails","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3a189222.chunk.js","sourcesContent":["import axios from \"axios\";\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(firstName, lastName, image, email, password) {\n    console.log(firstName, lastName, image, email, password);\n\n    const pr = this.auth\n      .post(\"/auth/signup\", { firstName, lastName, image, email, password })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(email, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    socket.emit(\"logout\");\n\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => response.data);\n\n    return pr;\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    // this.api  is a reusable base of the request containing the base url (baseURL)\n    // of the API and the options ( `withCredentials: true` )\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  getAll = () => {\n    const pr = this.api.get(\"/api/users\");\n\n    return pr;\n  };\n\n  getOne = (id) => {\n    const pr = this.api.get(`/api/users/${id}`);\n    return pr;\n  };\n\n  follow = (id) => {\n    const pr = this.api.put(`/api/users/${id}/follow`);\n    return pr;\n  };\n\n  unfollow = (id) => {\n    const pr = this.api.put(`/api/users/${id}/unfollow`);\n    return pr;\n  };\n\n  deleteNotification = (notificationId) => {\n    const pr = this.api.put(`/api/users/notifications/${notificationId}`);\n    return pr;\n  };\n\n  seenNotification = () => {\n    const pr = this.api.get(\"/api/users/notifications/seen\");\n    return pr;\n  };\n\n  editPhoto = (image) => {\n    console.log(image);\n    const pr = this.api.post(\"/api/users/edit\", { image });\n    return pr;\n  };\n\n  darkView = (darkMode) => {\n    const pr = this.api.post(\"/api/users/dark-mode\", { darkMode });\n    return pr;\n  };\n}\n\nconst userService = new UserService();\n\nexport default userService;\n","import React from \"react\";\nimport authService from \"./../lib/auth-service\";\nimport userService from \"./../lib/user-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null,\n    isDark: false,\n    isNewUser: false,\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then((user) =>\n        this.setState({\n          isLoggedIn: true,\n          user: user,\n          isLoading: false,\n          isDark: user.darkMode,\n        })\n      )\n      .catch((err) =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  signup = (firstName, lastName, image, email, password) => {\n    authService\n      .signup(firstName, lastName, image, email, password)\n      .then((user) =>\n        this.setState({ isLoggedIn: true, user, isNewUser: true })\n      )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      });\n  };\n\n  login = (email, password) => {\n    authService\n      .login(email, password)\n      .then((user) => {\n        console.log(\"error\");\n        this.setState({ isLoggedIn: true, user });\n      })\n      .catch((err) => {\n        console.log(\"error\");\n\n        this.setState({\n          isLoggedIn: false,\n          user: null,\n        });\n      });\n\n    return \"Username or password not correct\";\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  };\n\n  me = () => {\n    console.log(\"me called\");\n    authService\n      .me()\n      .then((user) => {\n        this.setState({ user });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleTheme = () => {\n    const isDark = this.state.isDark;\n    let mode = \"\";\n    if (isDark) {\n      mode = \"light\";\n    } else {\n      mode = \"dark\";\n    }\n\n    userService\n      .darkView(mode)\n      .then((apiResponse) => {\n        console.log(apiResponse);\n        this.setState({ isDark: !this.state.isDark });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  closeNewUser = () => {\n    this.setState({ isNewUser: false });\n  };\n\n  render() {\n    const { isDark, isLoggedIn, isLoading, user, isNewUser } = this.state;\n    const { toggleTheme, signup, login, logout, me, closeNewUser } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return (\n      <Provider\n        value={{\n          isDark,\n          isLoggedIn,\n          isLoading,\n          user,\n          isNewUser,\n          signup,\n          login,\n          logout,\n          me,\n          toggleTheme,\n          closeNewUser,\n        }}\n      >\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {(value) => {\n            const {\n              isLoggedIn,\n              isDark,\n              isLoading,\n              user,\n              isNewUser,\n              signup,\n              login,\n              logout,\n              me,\n              toggleTheme,\n              closeNewUser,\n            } = value;\n\n            return (\n              <WrappedComponent\n                {...this.props}\n                isDark={isDark}\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                user={user}\n                isNewUser={isNewUser}\n                signup={signup}\n                login={login}\n                logout={logout}\n                me={me}\n                toggleTheme={toggleTheme}\n                closeNewUser={closeNewUser}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\nexport { AuthProvider, withAuth };\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport \"bulma/css/bulma.css\";\n\nimport io from \"socket.io-client\";\nimport userService from \"../lib/user-service\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Navbar extends Component {\n  state = {\n    newMessages: 0,\n    newNotification: 0,\n  };\n  componentDidMount() {\n    if (this.props.user) {\n      this.startSocket();\n      this.getMessageUnread();\n    }\n  }\n\n  startSocket = () => {\n    const conversations = this.props.user.conversations;\n\n    conversations.forEach((conversation) => {\n      socket.emit(\n        \"join\",\n        { room: conversation._id, user: this.props.user._id },\n        (error) => {\n          if (error) {\n            console.log(error);\n          }\n        }\n      );\n\n      socket.on(\"message\", (message) => {\n        // let newMessages = this.state.newMessages;\n        // newMessages++;\n        // this.setState({ newMessages });\n      });\n    });\n\n    socket.on(\"notification\", (response) => {\n      const userId = response.userId.userId;\n      const userLiked = response.userId.userLiked;\n      console.log(userLiked);\n      if (userId === this.props.user._id && userLiked !== this.props.user._id) {\n        let newNotification = this.state.newNotification;\n        newNotification++;\n        this.setState({ newNotification });\n      }\n    });\n  };\n\n  getMessageNotification = () => {\n    const conversations = this.props.user.conversations;\n    if (conversations.length === 0) {\n      return 0;\n    }\n    const notification = this.state.newMessages / conversations.length;\n    console.log(notification);\n\n    return notification;\n  };\n\n  getMessageUnread = () => {\n    userService.getOne(this.props.user._id).then((apiResponse) => {\n      const conversations = apiResponse.data.user.conversations;\n      const totalUnreadMessages = conversations.reduce(\n        (total, conversation) => {\n          return (total += conversation.notifications.length);\n        },\n        0\n      );\n      this.setState({ newMessages: totalUnreadMessages });\n    });\n  };\n\n  setMessagesZero = () => {\n    this.setState({ newMessages: 0 });\n  };\n  setNotificationsZero = () => {\n    this.setState({ newNotification: 0 });\n  };\n\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar\">\n        {this.props.isLoggedIn ? (\n          <>\n            <NavLink\n              className=\"btn \"\n              activeClassName=\"nav-link\"\n              to={\"/private\"}\n            >\n              <HomeIcon />\n            </NavLink>\n            <NavLink className=\"btn\" activeClassName=\"nav-link\" to=\"/search\">\n              <SearchIcon />\n            </NavLink>\n            <NavLink\n              className=\"btn\"\n              activeClassName=\"nav-link\"\n              to={`/profile/${this.props.user._id}`}\n              onClick={this.setNotificationsZero}\n            >\n              <Badge\n                badgeContent={this.state.newNotification}\n                color=\"primary\"\n                max={10}\n              >\n                <PersonIcon />\n              </Badge>\n              {/* {this.state.newNotification === 0\n                ? null\n                : this.state.newNotification} */}\n            </NavLink>\n            <NavLink\n              className=\"btn\"\n              activeClassName=\"nav-link\"\n              to={\"/conversations\"}\n              onClick={this.setMessagesZero}\n            >\n              <Badge\n                // badgeContent={this.getMessageNotification()}\n                color=\"primary\"\n                max={10}\n              >\n                <ChatIcon />\n              </Badge>\n            </NavLink>\n          </>\n        ) : (\n          <>\n            <NavLink className=\"btn\" activeClassName=\"nav-link\" to=\"/\">\n              Home\n            </NavLink>\n            <NavLink className=\"btn\" activeClassName=\"nav-link\" to=\"/login\">\n              Login\n            </NavLink>\n\n            <NavLink className=\"btn\" activeClassName=\"nav-link\" to=\"/signup\">\n              Sign Up\n            </NavLink>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React from \"react\";\nimport \"bulma/css/bulma.css\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nfunction Home() {\n  return (\n    <div id=\"home\">\n      <img src=\"/logo.png\" alt=\"logo\" />\n      <section>\n        <p>\n          Love Code? Share your thoughts, explore new ideas and find others like\n          you!\n        </p>\n      </section>\n    </div>\n  );\n}\n\nexport default Home;\n","import styled, { css } from \"styled-components\";\n\nexport const AuthStyle = styled.div`\n  ${() =>\n    css`\n    width:100%;\n  background-color: #f2f2f2;\n  height: 100%;\n  form{\n      display:flex;\n      flex-direction:column;\n      align-items:center;\n      margin:20px 0\n  }\n  h1 {\n    text-align:center;\n    padding: 20px 0 10px 0;\n    font-size:2rem;\n    margin:0 auto;\n    width:80%;\n    border-bottom: 0.1rem solid  #3b945e;\n  }\n  button{\n      width:50%;\n      margin: 20px 0;\n  }\n  p{\n    margin: 0 auto;\n   text-align:center;\n  }\n  input {\n    margin: 20px auto;\n    width:70%;\n`}\n`;\n\nexport const SignUpStyle = styled.div`\n  ${() =>\n    css`\n    width:100%;\n  background-color: #f2f2f2;\n  height: auto;\n  padding-bottom:200px;\n  form{\n      display:flex;\n      flex-direction:column;\n      align-items:center;\n      margin:10px 0\n  }\n  h1 {\n    text-align:center;\n    padding: 20px 0 10px 0;\n    font-size:2rem;\n    margin:0 auto;\n    width:80%;\n    border-bottom: 0.1rem solid  #3b945e;\n  }\n  button{\n      width:50%;\n      margin: 20px auto;\n  }\n  p{\n    margin: 0 auto;\n   text-align:center;\n  }\n  div{\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n  }\n  input {\n    margin: 5px auto;\n    width:70%;\n`}\n`;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { SignUpStyle } from \"./../styles/login\";\n// import userService from \"./../lib/user-service\";\n\nclass Signup extends Component {\n  state = { firstName: \"\", lastName: \"\", image: \"\", email: \"\", password: \"\" };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { firstName, lastName, image, email, password } = this.state;\n    this.props.signup(firstName, lastName, image, email, password);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/auth/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({ image: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    const { firstName, lastName, image, email, password } = this.state;\n    return (\n      <SignUpStyle>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Profile Pic</label>\n          <input\n            className=\"input is-primary\"\n            name=\"image\"\n            type=\"file\"\n            onChange={this.handleFileUpload}\n          ></input>\n          <span>\n            <img style={{ width: \"100px\" }} src={image && image} alt=\"\"></img>\n          </span>\n\n          <label>First Name:</label>\n          <input\n            className=\"input is-primary\"\n            type=\"text\"\n            name=\"firstName\"\n            value={firstName}\n            onChange={this.handleChange}\n            required\n          />\n          <br />\n          <label>Last Name:</label>\n          <input\n            className=\"input is-primary\"\n            type=\"text\"\n            name=\"lastName\"\n            value={lastName}\n            onChange={this.handleChange}\n            required\n          />\n          <br />\n          <label>Email:</label>\n          <input\n            className=\"input is-primary\"\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            required\n          />\n          <br />\n          <label>Password:</label>\n          <input\n            className=\"input is-primary\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n            required\n          />\n\n          <button className=\"button is-primary is-white\" type=\"submit\">\n            {\" \"}\n            Signup{\" \"}\n          </button>\n        </form>\n\n        <div>\n          <p>Already have account?</p>\n          <button className=\"signup-btn button is-link is-light\">\n            <Link to={\"/login\"}> Login</Link>\n          </button>\n        </div>\n      </SignUpStyle>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { AuthStyle } from \"./../styles/login\";\nimport \"animate.css/source/animate.css\";\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\", errorMessage: false };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call funciton coming from AuthProvider ( via withAuth )\n    const errorMessage = this.props.login(email, password);\n    // console.log(\"lsdfhbvlsdhfbv\", errorMessage);\n    this.setState({ errorMessage: true });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    console.log();\n    return (\n      <AuthStyle>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Email:</label>\n          <input\n            class=\"input is-primary\"\n            type=\"text\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            required\n          />\n\n          <label>Password:</label>\n          <input\n            class=\"input is-primary\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={this.handleChange}\n            required\n          />\n\n          <button className=\"button is-primary is-white\" type=\"submit\">\n            Login\n          </button>\n        </form>\n        {this.state.errorMessage ? (\n          <div className=\"login-error animated fadeIn\">\n            Email or password is incorrect\n          </div>\n        ) : null}\n      </AuthStyle>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import axios from \"axios\";\n\nclass PostService {\n  constructor() {\n    // this.api  is a reusable base of the request containing the base url (baseURL)\n    // of the API and the options ( `withCredentials: true` )\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  getAllPostsByFollowedUsers = () => {\n    const pr = this.api.get(\"/api/posts\");\n\n    return pr;\n  };\n\n  getById = (postId) => {\n    const pr = this.api.get(`/api/posts/${postId}`);\n    return pr;\n  };\n\n  createPost = (postedBy, postContent, postPhoto, code) => {\n    console.log(postedBy, postContent, postPhoto, code);\n    const pr = this.api.post(\"/api/posts\", {\n      postedBy,\n      postContent,\n      postPhoto,\n      code,\n    });\n    return pr;\n  };\n\n  likePost = (postId) => {\n    const pr = this.api.put(`/api/posts/${postId}/likes`);\n    return pr;\n  };\n  unlikePost = (postId) => {\n    const pr = this.api.put(`/api/posts/${postId}/unlikes`);\n    return pr;\n  };\n\n  comment = (postId, commentContent) => {\n    const pr = this.api.post(`/api/posts/${postId}/comment`, {\n      commentContent,\n    });\n    return pr;\n  };\n  delete = (postId) => {\n    const pr = this.api.delete(`/api/posts/${postId}/delete`);\n    return pr;\n  };\n\n  deleteComment = (postId, commentId) => {\n    const pr = this.api.delete(`/api/posts/${postId}/comment/${commentId}`);\n    return pr;\n  };\n}\n\nconst postService = new PostService();\n\nexport default postService;\n","import styled, { css } from \"styled-components\";\n\nexport const Theme = styled.div`\n  ${(props) =>\n    props.dark &&\n    css`\n    width:100%;\n  background-color: rgb(0, 0, 0) ;\n  ${\"\" /* height:100%; */}\n  height:100%;\n  \n  h1 {\n    color: palevioletred;\n  }\n  div.post-main{\n    background-color:rgb(29, 41, 53);\n    color: white;\n  }\n  div.message-preview{\n    background-color:rgb(29, 41, 53);\n\n  }\n  div.notifications-menu{\n    background-color:rgb(29, 41, 53);\n\n  }\n  div#nav-space{\n    background-color: rgb(0, 0, 0) ;\n\n  }\n  nav.navbar{\n    background-color: rgb(0, 0, 0) ;\n\n  }\n  button.button{\n    background-color:rgb(29, 41, 53);\n    color:white;\n\n  }\n\n  input {\n    background-color: rgb(0, 0, 0) ;\n    color:white;\n  }\n\n  textarea{\n    background-color: rgb(0, 0, 0) ;\n    color:white;\n  }\n  div{\n    color:white;\n  }\n  p {\n    color: white;\n`}\n`;\n\nexport const ThemeConversation = styled.div`\n  ${(props) =>\n    props.dark &&\n    css`\n    width:100%;\n    background-color:rgb(29, 41, 53);\n  height:auto;\n  \n  h1 {\n    color: palevioletred;\n  }\n  .post-main{\n    background-color:rgb(80, 80, 80);\n    color: white;\n  } \n  .admin-message p{\n    color:white;\n  }\n  p {\n    color: palevioletred;\n`}\n`;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport postService from \"./../../lib/post-service\";\nimport { Link } from \"react-router-dom\";\nimport { Theme } from \"./../../styles/themes\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport InsertCommentIcon from \"@material-ui/icons/InsertComment\";\n\nimport \"./Post.css\";\nimport \"bulma/css/bulma.css\";\n\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Post extends Component {\n  state = {\n    isliked: false,\n    numberOfLikes: 0,\n    numberOfComments: 0,\n    showPhoto: false,\n    highlightedContent: [],\n  };\n\n  countNumberOfLikes = () => {\n    let numberOfLikes = this.props.post.likes.length;\n    this.setState({ numberOfLikes });\n  };\n\n  countNumberOfComments = () => {\n    let numberOfComments = this.props.post.comments.length;\n    this.setState({ numberOfComments });\n  };\n\n  socketLike = () => {\n    socket.emit(\n      \"notification\",\n      { userId: this.props.post.postedBy._id, userLiked: this.props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  handleLike = () => {\n    if (!this.state.isLiked) {\n      postService\n        .likePost(this.props.post._id)\n        .then((postLiked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes++;\n          this.setState({ numberOfLikes: numberOfLikes });\n          this.socketLike();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (this.state.isLiked) {\n      postService\n        .unlikePost(this.props.post._id)\n        .then((postUnliked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes--;\n          this.setState({ numberOfLikes: numberOfLikes });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    this.setState({ isLiked: !this.state.isLiked });\n  };\n\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  componentDidMount() {\n    let isLiked = false;\n    if (this.props.post) {\n      this.props.post.likes.forEach((likeId) => {\n        if (likeId === this.props.user._id) {\n          isLiked = true;\n        }\n      });\n    }\n    this.setState({ isLiked: isLiked });\n    this.countNumberOfLikes();\n    this.countNumberOfComments();\n    this.highlightSearchInput();\n  }\n\n  toggleShowPicture = () => {\n    this.setState({ showPhoto: !this.state.showPhoto });\n  };\n\n  highlightSearchInput = () => {\n    if (this.props.searchWord) {\n      const postContent = this.props.post.postContent.split(\" \");\n      const searchWord = this.props.searchWord.toLowerCase();\n      const capitalSeachWord = searchWord.toUpperCase();\n      const highlightedContent = postContent.map((word) => {\n        if (\n          word.toLowerCase().includes(searchWord) ||\n          word.includes(capitalSeachWord)\n        ) {\n          return <strong>{word}</strong>;\n        } else {\n          return word;\n        }\n      });\n      // console.log(highlightedContent);\n\n      this.setState({ highlightedContent: highlightedContent });\n    }\n  };\n\n  render() {\n    const { post } = this.props;\n    // console.log(\"highlighted\", this.state.highlightedContent);\n    return (\n      <div>\n        {/* <div className=\"card\"> */}\n        <Theme dark={this.props.isDark}>\n          {/* </div> */}\n          <div className=\"post-main\">\n            <div>\n              <img src={post.postedBy.image} alt=\"user profile\" />\n            </div>\n            <div className=\"post-section\">\n              <div className=\"post-user-info\">\n                <div className=\"post-user\">\n                  {\" \"}\n                  {post.postedBy && post.postedBy.firstName}{\" \"}\n                  {post.postedBy && post.postedBy.lastName}\n                  {\"   \"}\n                </div>\n                <div className=\"date\">{this.outputDate(post.date)}</div>\n              </div>\n              {post.postPhoto ? (\n                <img\n                  onClick={this.toggleShowPicture}\n                  className=\"post-image\"\n                  style={{ width: \"100px\" }}\n                  src={post.postPhoto && post.postPhoto}\n                  alt=\"\"\n                ></img>\n              ) : null}\n              <Link to={`/postdetails/${post._id}`}>\n                {\" \"}\n                {/* <div className=\"post-content\">{post.postContent}</div> */}\n                <div className=\"post-content\">\n                  {this.state.highlightedContent.map((word, i) => {\n                    return <span key={i}>{word} </span>;\n                  })}\n                </div>\n              </Link>\n              <div className=\"post-actions\">\n                {\" \"}\n                <div onClick={this.handleLike}>\n                  {this.state.isLiked ? (\n                    <ThumbUpIcon fontSize=\"small\" color=\"primary\" />\n                  ) : (\n                    <ThumbUpIcon fontSize=\"small\" /> //color=\"disabled\"\n                  )}{\" \"}\n                  <div>{this.state.numberOfLikes}</div>\n                </div>\n                <div className=\"comment-icon\">\n                  <InsertCommentIcon />\n                  <div>{this.state.numberOfComments}</div>\n                </div>\n              </div>\n              {this.state.showPhoto ? (\n                <img\n                  onClick={this.toggleShowPicture}\n                  className=\"large-img animated zoomIn\"\n                  src={post.postPhoto && post.postPhoto}\n                  alt=\"\"\n                ></img>\n              ) : null}\n            </div>\n          </div>\n        </Theme>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Post);\n","import styled, { keyframes } from \"styled-components\";\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\n\nexport const Fade = styled.div`\n  background: transparent;\n  border-radius: 3px;\n  color: palevioletred;\n  margin: 0 1em;\n\n  animation: ${fadeIn} 1s linear;\n`;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport postService from \"./../lib/post-service\";\nimport Post from \"./../components/Posts/Post\";\nimport \"bulma/css/bulma.css\";\nimport \"animate.css/source/animate.css\";\n\nimport { Theme } from \"./../styles/themes\";\nimport { Fade } from \"./../styles/fade\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Private extends Component {\n  state = {\n    users: [],\n    posts: [],\n    post: \"\",\n    postPhoto: \"\",\n    newPosts: [],\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n\n    this.handlePostsFollowedApi();\n    socket.emit(\"join-main\", { user: this.props.user._id }, (error) => {\n      if (error) {\n        console.log(error);\n      }\n    });\n    // socket.on(\"online\", (user) => {});\n    socket.on(\"postIncoming\", () => {\n      console.log(\"new post\");\n      this.handlePostsFollowedApi();\n    });\n  }\n\n  handlePostsFollowedApi = () => {\n    postService\n      .getAllPostsByFollowedUsers()\n      .then((apiResponse) => {\n        this.setState({ users: apiResponse.data });\n        this.orderPosts();\n      })\n      .catch((err) => this.setState({ users: [] }));\n  };\n\n  orderPosts = () => {\n    //const postsArr = [...this.props.user.posts];\n\n    const postsArr = [...this.state.newPosts, ...this.props.user.posts];\n\n    this.state.users.forEach((user) => {\n      postsArr.push(...user.posts);\n    });\n    postsArr.sort((a, b) => {\n      if (a.date > b.date) {\n        return -1;\n      } else if (a.date > b.date) {\n        return 1;\n      }\n      return 0;\n    });\n\n    this.setState({ posts: postsArr });\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/posts/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({ postPhoto: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  componentDidUpdate() {\n    // socket.on(\"postIncoming\", () => {\n    //   console.log(\"new post\");\n    //   this.handlePostsFollowedApi();\n    // });\n  }\n\n  postWithSocket = () => {\n    socket.emit(\"post\", {}, () => {});\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.postWithSocket();\n\n    postService\n      .createPost(this.props.user._id, this.state.post, this.state.postPhoto)\n      .then((createdPost) => {\n        console.log(createdPost);\n        const newPosts = [...this.state.newPosts];\n        newPosts.push(createdPost.data);\n        this.setState({ postPhoto: \"\", post: \"\", newPosts });\n        this.handlePostsFollowedApi();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"dashboard\">\n        <Theme dark={this.props.isDark}>\n          <div className=\"dashboard-header\">\n            <img src={this.props.user.image} alt=\"user profile\" />\n            <div>\n              <h2>Welcome {this.props.user && this.props.user.firstName}</h2>\n              <p>See New Posts Here!</p>\n            </div>\n          </div>\n\n          {/* <PostInput\n            handlePostsFollowedApi={this.props.handlePostsFollowedApi}\n            handleSubmit={this.props.handleSubmit}\n          /> */}\n\n          <form className=\"post-form\" onSubmit={this.handleSubmit}>\n            <div className=\"post-main\">\n              <div>\n                <img src={this.props.user.image} alt=\"user profile\" />\n              </div>\n              <div className=\"post-section\">\n                <div className=\"post-user-info\">\n                  <div className=\"post-user\">\n                    {\" \"}\n                    {this.props.user && this.props.user.firstName}{\" \"}\n                    {this.props.user && this.props.user.lastName}\n                    {\"   \"}\n                  </div>\n                </div>\n                {/* {this.state.postPhoto === \"\" ? null : (\n                  <span>\n                    <img\n                      style={{ width: \"50px\" }}\n                      src={this.state.postPhoto && this.state.postPhoto}\n                      alt=\"\"\n                    ></img>\n                  </span>\n                )} */}\n                <textarea\n                  className=\"post\"\n                  name=\"post\"\n                  value={this.state.post}\n                  onChange={this.handleInput}\n                  placeholder=\"Share your code...\"\n                  required\n                />\n                <div className=\"post-actions\">\n                  <input\n                    name=\"postPhoto\"\n                    type=\"file\"\n                    // value={this.state.postPhoto}\n                    onChange={this.handleFileUpload}\n                  />\n                  <button className=\"button is-white s-size-7\" type=\"submit\">\n                    Post\n                  </button>{\" \"}\n                </div>\n              </div>\n            </div>\n\n            {this.state.postPhoto === \"\" ? null : (\n              <span>\n                <img\n                  style={{ width: \"100px\" }}\n                  src={this.state.postPhoto && this.state.postPhoto}\n                  alt=\"\"\n                ></img>\n              </span>\n            )}\n          </form>\n          {this.state.posts.map((post) => {\n            return <Post key={post._id} post={post} />;\n          })}\n        </Theme>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Private);\n","import React, { Component } from \"react\";\nimport postService from \"./../../lib/post-service\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\n\nclass Comment extends Component {\n  state = {\n    isAdmin: false,\n  };\n\n  componentDidMount() {\n    this.handleIsAdmin();\n  }\n\n  handleIsAdmin = () => {\n    const createdById = this.props.comment.createdBy._id;\n    const currentUserId = this.props.user._id;\n    if (createdById === currentUserId) {\n      this.setState({ isAdmin: true });\n    } else {\n      this.setState({ isAdmin: false });\n    }\n  };\n\n  deleteComment = () => {\n    const postId = this.props.comment.post;\n    const commentId = this.props.comment._id;\n    postService\n      .deleteComment(postId, commentId)\n      .then((apiResponse) => {\n        console.log(\"clicked\");\n        console.log(apiResponse);\n        this.props.getPostDetails();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"comment-main post-main\">\n        <div>\n          <img src={`${comment.createdBy.image}`} alt=\"user profile\" />\n        </div>\n        <div className=\"post-section\">\n          <div className=\"post-user-info\">\n            <Link to={`/profile/${comment.createdBy._id}`}>\n              {\" \"}\n              <div className=\"post-user\">\n                {\" \"}\n                {comment.createdBy.firstName} {comment.createdBy.lastName}\n                {\"   \"}\n              </div>{\" \"}\n            </Link>\n\n            <div className=\"date\">\n              {/* {this.props.outputDate(comment.created_at)} */}\n            </div>\n            {this.state.isAdmin ? (\n              <p\n                onClick={this.deleteComment}\n                href=\"#\"\n                className=\"delete-icon delete\"\n              ></p>\n            ) : null}\n          </div>{\" \"}\n          <div className=\"post-content\"> {comment.commentContent}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comment);\n","import React, { useState, useEffect } from \"react\";\nimport Comment from \"./../Comment/Comment\";\nimport { motion } from \"framer-motion\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport postService from \"./../../lib/post-service\";\nimport io from \"socket.io-client\";\n\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nfunction DropDownComment(props) {\n  const [comment, setComment] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const handleInput = (event) => {\n    const { value } = event.target;\n\n    setComment(value);\n  };\n\n  useEffect(() => {\n    handlePostById();\n  }, []);\n\n  const handlePostById = () => {\n    postService\n      .getById(props.postId)\n      .then((apiResponse) => {\n        console.log(apiResponse.data);\n        setComments(apiResponse.data.comments);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    postService.comment(props.postId, comment).then((apiResponse) => {\n      console.log(apiResponse.data);\n      handlePostById();\n      setComment(\"\");\n      props.socketComment();\n    });\n  };\n\n  const showCommentInput = () => {\n    return (\n      <form onSubmit={handleSubmit} className=\"post-comment\">\n        <input\n          name=\"commentInput\"\n          value={comment}\n          onChange={handleInput}\n          autoComplete=\"off\"\n          placeholder=\"Write your comment here...\"\n          required\n        />\n        <button\n          id=\"comment-btn\"\n          className=\"button is-white s-size-7\"\n          type=\"submit\"\n        >\n          Comment\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      {comments.map((comment) => {\n        return <Comment comment={comment} getPostDetails={handlePostById} />;\n      })}\n\n      <div className=\"comment-main post-main\">\n        <div>\n          <img src={`${props.user.image}`} alt=\"user profile\" />\n        </div>\n        <div className=\"post-section\">\n          <div className=\"post-user-info\">\n            {\" \"}\n            <div className=\"post-user\">\n              {\" \"}\n              {props.user.firstName} {props.user.lastName}\n              {\"   \"}\n            </div>{\" \"}\n          </div>{\" \"}\n          <div className=\"post-content\"> {showCommentInput()}</div>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nexport default withAuth(DropDownComment);\n","import axios from \"axios\";\n\nclass PostService {\n  constructor() {\n    // this.api  is a reusable base of the request containing the base url (baseURL)\n    // of the API and the options ( `withCredentials: true` )\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  createConversation = (userId) => {\n    const pr = this.api.post(`/api/conversations/${userId}`);\n\n    return pr;\n  };\n\n  getConversations = () => {\n    const pr = this.api.get(`/api/conversations`);\n    return pr;\n  };\n\n  getConversationOne = (conversationId) => {\n    const pr = this.api.get(`/api/conversations/${conversationId}`);\n    return pr;\n  };\n\n  sendMessage = (conversationId, messageContent, userSentToId) => {\n    const pr = this.api.post(`/api/conversations/${conversationId}/message`, {\n      messageContent,\n      userSentToId,\n    });\n    return pr;\n  };\n\n  messageSeen = (conversationId) => {\n    const pr = this.api.get(\n      `/api/conversations/${conversationId}/message-seen`\n    );\n    return pr;\n  };\n\n  deleteMessage = (conversationId, messageId) => {\n    const pr = this.api.delete(\n      `/api/conversations/${conversationId}/message/${messageId}`\n    );\n\n    return pr;\n  };\n}\n\nconst postService = new PostService();\n\nexport default postService;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport UserService from \"./../../lib/user-service\";\nimport conversationService from \"./../../lib/conversation-service\";\n\nimport { Link } from \"react-router-dom\";\nimport \"./SearchResult.css\";\n\nclass SearchResult extends Component {\n  state = {\n    isFollowing: false,\n    hasConversation: false,\n    conversationId: \"\",\n    user: {},\n    isCurrentUser: false,\n  };\n\n  componentDidMount() {\n    this.checkFollow();\n    this.checkConversation();\n    this.handleIsCurrentUser();\n  }\n\n  handleIsCurrentUser = () => {\n    const userSearch = this.props.userSearch;\n    const currentUser = this.props.user;\n    console.log(typeof userSearch._id, typeof currentUser._id);\n    if (userSearch._id === currentUser._id) {\n      this.setState({ isCurrentUser: true });\n    }\n  };\n\n  checkFollow = () => {\n    const currentUserFollowing = this.props.user.following;\n    console.log(currentUserFollowing);\n    const userSearchId = this.props.userSearch._id;\n    let isFollowing = false;\n    currentUserFollowing.forEach((user) => {\n      if (user === userSearchId) {\n        isFollowing = true;\n      }\n    });\n    this.setState({ isFollowing });\n  };\n\n  checkConversation = () => {\n    const currentUserConversations = this.props.user.conversations;\n    console.log(currentUserConversations);\n    const userSearchId = this.props.userSearch._id;\n\n    let hasConversation = false;\n\n    if (currentUserConversations.length === 0) {\n      this.setState({ hasConversation });\n      return;\n    }\n\n    currentUserConversations.forEach((conversation) => {\n      if (conversation.users.includes(userSearchId)) {\n        hasConversation = true;\n        this.setState({ conversationId: conversation._id });\n      }\n    });\n\n    this.setState({ hasConversation });\n  };\n  handleFollow = () => {\n    UserService.follow(this.props.userSearch._id).then((apiResponse) => {\n      console.log(apiResponse);\n      this.setState({ isFollowing: true });\n    });\n  };\n\n  handleUnfollow = () => {\n    UserService.unfollow(this.props.userSearch._id).then((apiResponse) => {\n      console.log(apiResponse);\n      this.setState({ isFollowing: false });\n    });\n  };\n\n  createConversation = () => {\n    const userSearchId = this.props.userSearch._id;\n\n    conversationService.createConversation(userSearchId).then((apiResponse) => {\n      console.log(apiResponse);\n      const conversationId = apiResponse.data;\n\n      this.setState({ hasConversation: true, conversationId });\n    });\n  };\n\n  render() {\n    const { userSearch } = this.props;\n    return (\n      <tr className=\"profile-link\">\n        <td>\n          <img src={userSearch.image} alt=\"user profile\" />\n        </td>\n\n        <td>\n          <Link className=\"search-name\" to={`/profile/${userSearch._id}`}>\n            <p>{userSearch && userSearch.firstName} </p>\n            <p>{userSearch && userSearch.lastName}</p>\n          </Link>\n        </td>\n        <td className=\"following-column\">\n          {this.state.isCurrentUser ? null : this.state.isFollowing ? (\n            <button\n              className=\"button is-white is-light is-size-7\"\n              onClick={this.handleUnfollow}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              className=\"button is-success is-light is-size-7\"\n              onClick={this.handleFollow}\n            >\n              Follow\n            </button>\n          )}\n        </td>\n\n        <td>\n          {this.state.isCurrentUser ? null : this.state.hasConversation ? (\n            <Link\n              className=\"button is-success is-light is-size-7\"\n              to={`/conversation-details/${this.state.conversationId}`}\n            >\n              Go to chat\n            </Link>\n          ) : (\n            <button\n              className=\"button is-white is-light is-size-7\"\n              onClick={this.createConversation}\n            >\n              Start Chat\n            </button>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default withAuth(SearchResult);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SearchResult from \"./../SeachResult/SearchResult\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nimport \"./Popuplikes.css\";\n\nfunction PopupLikes(props) {\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      <div onClick={props.toggleShowLikes} className=\"popup-likes-background\">\n        <div className=\"popup-likes\">\n          {props.likes.map((like) => {\n            return (\n              <Link to={`/profile/${like._id}`}>\n                <div className=\"like-list\">\n                  <SearchResult userSearch={like} />\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nexport default PopupLikes;\n","import React, { useState, useEffect } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport postService from \"./../../lib/post-service\";\nimport { Link } from \"react-router-dom\";\nimport { Theme } from \"./../../styles/themes\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport InsertCommentIcon from \"@material-ui/icons/InsertComment\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\nimport DropDownComment from \"./../DropDownComments/DropDownComment\";\nimport PopupLikes from \"./../PopupLikes/PopupLikes\";\nimport \"./Post.css\";\nimport \"bulma/css/bulma.css\";\n\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nconst Post = (props) => {\n  const [isLiked, setIsLiked] = useState(false);\n  const [numberOfLikes, setNumberOfLikes] = useState(0);\n  const [numberOfComments, setNumberOfComments] = useState(0);\n  const [showPhoto, setShowPhoto] = useState(false);\n  const [postContentLinks, setPostContentLinks] = useState([]);\n  const [showLikes, setShowLikes] = useState(false);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleOpen = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const countNumberOfLikes = () => {\n    let numberOfLikes = props.post.likes.length;\n    setNumberOfLikes(numberOfLikes);\n  };\n\n  const countNumberOfComments = () => {\n    let numberOfComments = props.post.comments.length;\n    setNumberOfComments(numberOfComments);\n  };\n\n  const socketLike = () => {\n    console.log(\"sockey run\");\n    socket.emit(\n      \"notification\",\n      { userId: props.post.postedBy._id, userLiked: props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  const handleLike = () => {\n    if (!isLiked) {\n      postService\n        .likePost(props.post._id)\n        .then((postLiked) => {\n          console.log(postLiked);\n          let updateNumberOfLikes = numberOfLikes;\n          updateNumberOfLikes++;\n          setNumberOfLikes(updateNumberOfLikes);\n          socketLike();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (isLiked) {\n      postService\n        .unlikePost(props.post._id)\n        .then((postUnliked) => {\n          let updateNumberOfLikes = numberOfLikes;\n          updateNumberOfLikes--;\n          console.log(updateNumberOfLikes);\n          setNumberOfLikes(updateNumberOfLikes);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    setIsLiked(!isLiked);\n  };\n\n  const outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  useEffect(() => {\n    let liked = false;\n    if (props.post) {\n      props.post.likes.forEach((likeId) => {\n        if (likeId === props.user._id) {\n          liked = true;\n        }\n      });\n    }\n    setIsLiked(liked);\n    countNumberOfLikes();\n    countNumberOfComments();\n    handlePostContentWithLinks();\n  }, []);\n\n  const toggleShowPicture = () => {\n    setShowPhoto(!showPhoto);\n  };\n\n  const socketComment = () => {\n    console.log(\"sockey run\");\n    socket.emit(\n      \"notification\",\n      { userId: props.post.postedBy._id, userLiked: props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  const handlePostContentWithLinks = () => {\n    const postContent = props.post.postContent.split(\" \");\n\n    const postContentWithLinks = postContent.map((word) => {\n      if (word.startsWith(\"http\") || word.startsWith(\"https\")) {\n        return <a href={word}>{word}</a>;\n      } else {\n        return word;\n      }\n    });\n    // console.log(highlightedContent);\n    setPostContentLinks(postContentWithLinks);\n  };\n\n  const toggleShowLikes = () => {\n    setShowLikes(!showLikes);\n  };\n\n  const { post } = props;\n\n  return (\n    <div>\n      {/* <div className=\"card\"> */}\n      <Theme dark={props.isDark}>\n        {/* </div> */}\n        <div className=\"post-main-page\">\n          <motion.li layout initial={{ borderRadius: 10 }}>\n            <div className=\"post-main\">\n              <div>\n                <img src={post.postedBy.image} alt=\"user profile\" />\n              </div>\n              <div className=\"post-section\">\n                <div className=\"post-user-info\">\n                  <div className=\"post-user\">\n                    {\" \"}\n                    {post.postedBy && post.postedBy.firstName}{\" \"}\n                    {post.postedBy && post.postedBy.lastName}\n                    {\"   \"}\n                  </div>\n                  <div className=\"date\">{outputDate(post.date)}</div>\n                </div>\n                {post.postPhoto ? (\n                  showPhoto ? null : (\n                    <img\n                      onClick={toggleShowPicture}\n                      className=\"post-image\"\n                      style={{ width: \"100px\" }}\n                      src={post.postPhoto && post.postPhoto}\n                      alt=\"\"\n                    ></img>\n                  )\n                ) : null}\n                {showPhoto ? (\n                  <img\n                    onClick={toggleShowPicture}\n                    className=\"large-img animated zoomIn\"\n                    src={post.postPhoto && post.postPhoto}\n                    alt=\"\"\n                  ></img>\n                ) : null}\n                {/* <Link to={`/postdetails/${post._id}`}> */}{\" \"}\n                {/* <div className=\"post-content\">{post.postContent}</div> */}\n                <div className=\"post-content\">\n                  {postContentLinks.map((word, i) => {\n                    return <span key={i}>{word} </span>;\n                  })}\n                </div>\n                {post.code && (\n                  <code>\n                    <pre>{post.code}</pre>\n                  </code>\n                )}\n                {post.likes[0] && (\n                  <div>\n                    <p\n                      onClick={() => {\n                        setShowLikes(!showLikes);\n                      }}\n                      className=\"like-preview\"\n                    >\n                      <img src={post.likes[0].image} />\n                      {post.likes[0].firstName} {post.likes[0].lastName}{\" \"}\n                      {post.likes.length !== 1 ? \"and others\" : null} liked this\n                      post\n                    </p>\n                  </div>\n                )}\n                <AnimatePresence>\n                  {showLikes && (\n                    <PopupLikes\n                      likes={post.likes}\n                      toggleShowLikes={toggleShowLikes}\n                    />\n                  )}\n                </AnimatePresence>\n                {/* </Link> */}\n                <div className=\"post-actions\">\n                  {\" \"}\n                  <div onClick={handleLike}>\n                    {isLiked ? (\n                      <ThumbUpIcon\n                        fontSize=\"small\"\n                        color=\"primary\"\n                        className=\"like-btn-animate\"\n                      />\n                    ) : (\n                      <ThumbUpIcon fontSize=\"small\" /> //color=\"disabled\"\n                    )}{\" \"}\n                    <div>{numberOfLikes}</div>\n                  </div>\n                  <div onClick={toggleOpen} className=\"comment-icon\">\n                    <InsertCommentIcon />\n                    <div>{numberOfComments}</div>\n                  </div>\n                </div>\n                {/* {showPhoto ? (\n                  <img\n                    onClick={toggleShowPicture}\n                    className=\"large-img animated zoomIn\"\n                    src={post.postPhoto && post.postPhoto}\n                    alt=\"\"\n                  ></img>\n                ) : null} */}\n              </div>\n            </div>\n          </motion.li>\n          <AnimatePresence>\n            {isOpen && (\n              <DropDownComment\n                comments={post.comments}\n                postId={post._id}\n                socketComment={socketComment}\n              />\n            )}\n          </AnimatePresence>\n        </div>\n      </Theme>\n    </div>\n  );\n};\n\nexport default withAuth(Post);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  paper: {\n    zIndex: 1,\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function MenuListComposition() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <Button\n          ref={anchorRef}\n          aria-controls={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n        >\n          Toggle Menu Grow\n        </Button>\n        <Popper\n          open={open}\n          anchorEl={anchorRef.current}\n          role={undefined}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === \"bottom\" ? \"center top\" : \"center bottom\",\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList\n                    autoFocusItem={open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem onClick={handleClose}>Upload Photo</MenuItem>\n                    <MenuItem onClick={handleClose}>Type Code</MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport postService from \"./../../lib/post-service\";\nimport PostMenuDropDown from \"./../PostMenuDropDown/PostMenuDropDown\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PhotoIcon from \"@material-ui/icons/Photo\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport { withAuth } from \"../../context/auth-context\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nimport \"./PostInput.css\";\n\nconst PostInput = (props) => {\n  const [showCodeInput, setShowCodeInput] = useState(false);\n  const [input, setInput] = useReducer(\n    (state, newState) => ({ ...state, ...newState }),\n    {\n      post: \"\",\n      postPhoto: \"\",\n      code: \"\",\n    }\n  );\n  const [showCodeAndImageInput, setshowCodeAndImageInput] = useState(false);\n\n  const handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/posts/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        setInput({ postPhoto: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    postService\n      .createPost(props.user._id, input.post, input.postPhoto, input.code)\n      .then((createdPost) => {\n        console.log(createdPost);\n\n        setInput({ postPhoto: \"\", post: \"\", code: \"\" });\n\n        props.handleComponentSubmit(createdPost);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleInput = (event) => {\n    const { name, value } = event.target;\n    setInput({ [name]: value });\n  };\n\n  const toggleCodeInput = () => {\n    setShowCodeInput(!showCodeInput);\n  };\n\n  const toggleCodeAndImageInput = () => {\n    setshowCodeAndImageInput(!showCodeAndImageInput);\n  };\n  //    </AnimateSharedLayout>\n\n  return (\n    <AnimateSharedLayout>\n      <motion.div layout initial={{ borderRadius: 25 }}>\n        <form className=\"post-form\" onSubmit={handleSubmit}>\n          <div className=\"post-main\">\n            <div>\n              <img src={props.user.image} alt=\"user profile\" />\n            </div>\n            <div className=\"post-section\">\n              <div className=\"post-user-info\">\n                <div className=\"post-user\">\n                  {\" \"}\n                  {props.user && props.user.firstName}{\" \"}\n                  {props.user && props.user.lastName}\n                  {\"   \"}\n                </div>\n              </div>\n              {input.postPhoto === \"\" ? null : (\n                <span>\n                  <img\n                    className=\"large-img animated zoomIn\"\n                    src={input.postPhoto && input.postPhoto}\n                    alt=\"\"\n                  ></img>\n                </span>\n              )}\n              {/* {this.state.postPhoto === \"\" ? null : (\n                  <span>\n                    <img\n                      style={{ width: \"50px\" }}\n                      src={this.state.postPhoto && this.state.postPhoto}\n                      alt=\"\"\n                    ></img>\n                  </span>\n                )} */}\n              <textarea\n                className=\"post\"\n                name=\"post\"\n                value={input.post}\n                onChange={handleInput}\n                placeholder=\"Share your thoughts........\"\n                required\n              />\n              <AnimatePresence>\n                {showCodeInput && (\n                  <motion.div\n                    layout\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                  >\n                    <textarea\n                      className=\"post\"\n                      name=\"code\"\n                      className=\"code-input\"\n                      value={input.code}\n                      onChange={handleInput}\n                      placeholder=\"Share your code...\"\n                    />\n                  </motion.div>\n                )}\n              </AnimatePresence>\n              <div className=\"post-actions-input\">\n                {/* <PostMenuDropDown /> */}\n                <div className=\"photo-code-buttons-moblie\">\n                  <MoreVertIcon onClick={toggleCodeAndImageInput} />\n                  <AnimatePresence>\n                    {showCodeAndImageInput && (\n                      <motion.div\n                        layout\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                      >\n                        {\" \"}\n                        <div className=\"moble-photo-upload\">\n                          <div className=\"moble-photo-upload\">\n                            <div className=\"photo-upload\">\n                              <PhotoIcon />\n                            </div>\n                            <input\n                              name=\"postPhoto\"\n                              type=\"file\"\n                              placeholder=\"Upload photo\"\n                              // value={this.state.postPhoto}\n                              onChange={handleFileUpload}\n                            />\n                          </div>\n                          <div\n                            onClick={() => {\n                              toggleCodeInput();\n                              toggleCodeAndImageInput();\n                            }}\n                            className=\"photo-upload\"\n                          >\n                            <CodeIcon />\n                          </div>\n                        </div>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n                  <button className=\"button s-size-7\" type=\"submit\">\n                    Post\n                  </button>{\" \"}\n                </div>\n                <div className=\"photo-code-buttons\">\n                  <div>\n                    <div className=\"photo-upload\">\n                      <PhotoIcon />\n                    </div>\n                    <input\n                      name=\"postPhoto\"\n                      type=\"file\"\n                      // value={this.state.postPhoto}\n                      onChange={handleFileUpload}\n                    />\n                    <div onClick={toggleCodeInput} className=\"photo-upload\">\n                      <CodeIcon />\n                    </div>\n                  </div>\n                  <button className=\"button s-size-7\" type=\"submit\">\n                    Post\n                  </button>{\" \"}\n                </div>\n                {/* {input.postPhoto === \"\" ? null : (\n                  <span>\n                    <img\n                      className=\"large-img animated zoomIn\"\n                      src={input.postPhoto && input.postPhoto}\n                      alt=\"\"\n                    ></img>\n                  </span>\n                )} */}\n              </div>\n            </div>\n          </div>\n        </form>\n      </motion.div>\n    </AnimateSharedLayout>\n  );\n};\n\nexport default withAuth(PostInput);\n","import styled, { css } from \"styled-components\";\n\nexport const PopUp = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background-color: rgb(0, 0, 0);\n  padding: 30px 0;\n\n  background-color: rgb(0, 0, 0, 0.4);\n`;\n\nexport const PopUpMenu = styled.div`\n  ${() =>\n    css`\n      border-radius: 10px;\n      margin-top: 200px;\n      border: 1px solid #3b945e;\n      padding: 30px;\n      background-color: white;\n      width: 60%;\n      height: 250px;\n      overflow: auto;\n    `}\n\n  h1 {\n    font-size: 1.8rem;\n    text-align: center;\n    margin-bottom: 10px;\n  }\n\n  h3 {\n    font-size: 1.4rem;\n  }\n`;\n","import React from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { PopUp, PopUpMenu } from \"./../../styles/new-user-popup\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nconst tutorialSteps = [\n  {\n    title: \"Welcome to Social Developers\",\n    step: \"Click on the home page to see posts from others who have followed\",\n    icon: <HomeIcon />,\n  },\n  {\n    title: \"Search\",\n    step: \"Search to find other developers\",\n    icon: <SearchIcon />,\n  },\n  {\n    title: \"Your Profile\",\n    step: \"Find your posts, likes and following on your profile page \",\n    icon: <PersonIcon />,\n  },\n  {\n    title: \"Instant Messaging\",\n    step:\n      \"Instant Message other users and see who is online. To start a conversation search for the developer first\",\n    icon: <ChatIcon />,\n  },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 400,\n    width: \"90%\",\n\n    flexGrow: 1,\n    border: 0,\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 70,\n    paddingTop: 7,\n    borderRadius: \"10px 10px 0 0 \",\n    background: \"#57ba98\",\n    paddingLeft: theme.spacing(4),\n    color: \"white\",\n  },\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    // borderTop: \"1px solid #3b945e\",\n    paddingTop: 20,\n    height: 110,\n    paddingLeft: theme.spacing(4),\n  },\n  buttons: {\n    borderRadius: \"0 0 10px 10px \",\n    background: \"#57ba98\",\n    color: \"white\",\n  },\n  btn: {\n    color: \"white\",\n  },\n  \"@media (min-width: 1024px)\": {\n    root: {\n      width: \"50%\",\n    },\n  },\n}));\n\nfunction NewUserPopup(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(\"(min-width:1023px)\");\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const maxSteps = tutorialSteps.length;\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n  const handleStepChange = (step) => {\n    setActiveStep(step);\n  };\n\n  return (\n    <PopUp>\n      <div className={classes.root}>\n        <Paper square elevation={0} className={classes.header}>\n          <Typography style={{ margin: \"0 10px\" }}>\n            {tutorialSteps[activeStep].icon}\n          </Typography>\n\n          <Typography>{tutorialSteps[activeStep].title}</Typography>\n          <CloseIcon onClick={props.closeNewUser} />\n        </Paper>\n        <Divider variant=\"middle\" />\n        {/* <Paper square elevation={0} className={classes.content}>\n          <p>{tutorialSteps[activeStep].step}</p>\n        </Paper> */}\n\n        <SwipeableViews\n          axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n          index={activeStep}\n          onChangeIndex={handleStepChange}\n          enableMouseEvents\n        >\n          {tutorialSteps.map((step, index) => (\n            <div key={step.label}>\n              {Math.abs(activeStep - index) <= 2 ? (\n                <Paper square elevation={0} className={classes.content}>\n                  <p>{tutorialSteps[activeStep].step}</p>\n                </Paper>\n              ) : null}\n            </div>\n          ))}\n        </SwipeableViews>\n\n        <MobileStepper\n          steps={maxSteps}\n          position=\"static\"\n          variant=\"text\"\n          className={classes.buttons}\n          activeStep={activeStep}\n          nextButton={\n            <Button\n              className={classes.btn}\n              size=\"small\"\n              onClick={handleNext}\n              disabled={activeStep === maxSteps - 1}\n            >\n              Next\n              {theme.direction === \"rtl\" ? (\n                <KeyboardArrowLeft />\n              ) : (\n                <KeyboardArrowRight />\n              )}\n            </Button>\n          }\n          backButton={\n            <Button\n              className={classes.btn}\n              size=\"small\"\n              onClick={handleBack}\n              disabled={activeStep === 0}\n            >\n              {theme.direction === \"rtl\" ? (\n                <KeyboardArrowRight />\n              ) : (\n                <KeyboardArrowLeft />\n              )}\n              Back\n            </Button>\n          }\n        />\n      </div>\n    </PopUp>\n  );\n}\n\nexport default withAuth(NewUserPopup);\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport postService from \"./../lib/post-service\";\nimport Post from \"./../components/Posts/PostHook\";\nimport PostInput from \"./../components/PostInput/PostInput\";\nimport NewUserPopup from \"./../components/NewUserPopup/NewUserPopup\";\nimport \"bulma/css/bulma.css\";\nimport \"animate.css/source/animate.css\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nimport { Theme } from \"./../styles/themes\";\n\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nconst Private = (props) => {\n  const [users, setUsers] = useState([]);\n  const [posts, setPosts] = useState([]);\n  // const [newUser, setNewUser] = useState(true);\n\n  const [newPosts, setNewPosts] = useState([]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    handlePostsFollowedApi();\n    socket.emit(\"join-main\", { user: props.user._id }, (error) => {\n      if (error) {\n        console.log(error);\n      }\n    });\n    // socket.on(\"online\", (user) => {});\n    socket.on(\"postIncoming\", () => {\n      console.log(\"new post\");\n      handlePostsFollowedApi();\n    });\n  }, []);\n\n  const handlePostsFollowedApi = () => {\n    postService\n      .getAllPostsByFollowedUsers()\n      .then((apiResponse) => {\n        setUsers(apiResponse.data);\n      })\n      .catch((err) => setUsers([]));\n  };\n\n  useEffect(() => {\n    orderPosts();\n  }, [users]);\n\n  const orderPosts = () => {\n    console.log(props.user.posts);\n    const postsArr = [...newPosts, ...props.user.posts];\n    users.forEach((user) => {\n      postsArr.push(...user.posts);\n    });\n    postsArr.sort((a, b) => {\n      if (a.date > b.date) {\n        return -1;\n      } else if (a.date > b.date) {\n        return 1;\n      }\n      return 0;\n    });\n\n    setPosts([...postsArr]);\n  };\n\n  const postWithSocket = () => {\n    socket.emit(\"post\", {}, () => {});\n  };\n\n  const handleComponentSubmit = (createdPost) => {\n    postWithSocket();\n\n    const newPostsCreated = [...newPosts];\n    newPostsCreated.push(createdPost.data);\n    setNewPosts([...newPostsCreated]);\n    handlePostsFollowedApi();\n  };\n\n  // const closeNewUserMessage = () => {\n  //   setNewUser(false);\n  // };\n  return (\n    <div className=\"dashboard\">\n      <Theme dark={props.isDark}>\n        <div className=\"dashboard-header\">\n          <img src={props.user.image} alt=\"user profile\" />\n          <div>\n            <h2>Welcome {props.user && props.user.firstName}</h2>\n            <p>See New Posts Here!</p>\n          </div>\n        </div>\n\n        {props.isNewUser ? <NewUserPopup /> : null}\n        {/* closeNewUserMessage={closeNewUserMessage} */}\n\n        <PostInput handleComponentSubmit={handleComponentSubmit} />\n\n        <AnimateSharedLayout>\n          <motion.ul layout initial={{ borderRadius: 25 }}>\n            {posts.map((post) => {\n              return <Post key={post._id} post={post} />;\n            })}\n          </motion.ul>\n        </AnimateSharedLayout>\n      </Theme>\n    </div>\n  );\n};\n\nexport default withAuth(Private);\n","import React, { Component, useState, useEffect } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport userService from \"./../lib/user-service\";\nimport { Theme } from \"./../styles/themes\";\nimport SearchResult from \"./../components/SeachResult/SearchResult\";\nimport Post from \"./../components/Posts/Post\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nconst Search = (props) => {\n  // state = {\n  //   users: [],\n  //   searchResults: [],\n  //   searchInput: \"\",\n  // };\n\n  const [users, setUsers] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n  const [searchPosts, setSearchPosts] = useState([]);\n  const [searchPostsFirstThree, setSearchPostsFirstThree] = useState([]);\n  const [seeMorePosts, setSeeMorePosts] = useState(false);\n  const [showPosts, setShowPosts] = useState(true);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    userService\n      .getAll()\n      .then((apiResponse) => {\n        // setUsers(apiResponse.data);\n        filterSearch(apiResponse.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    handlePosts();\n  }, [users]);\n\n  const filterSearch = (listOfUsers) => {\n    // const users = users;\n    const filteredUsers = listOfUsers.filter((user) => {\n      if (user._id === props.user._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n\n    // this.setState({ users: filteredUsers, searchResults: filteredUsers });\n    setUsers(filteredUsers);\n    setSearchResults(filteredUsers);\n  };\n\n  const handlePosts = () => {\n    const listOfPosts = [];\n    users.map((user) => {\n      listOfPosts.push(...user.posts);\n    });\n\n    setPosts(listOfPosts);\n    setSearchPosts(listOfPosts);\n  };\n\n  const handleSearchResults = (value) => {\n    // const { users } = this.state;\n\n    const filteredUsers = users.filter((user) => {\n      const lowercaseFirstName = user.firstName.toLowerCase();\n      const lowercaseLastName = user.lastName.toLowerCase();\n      const fullName = lowercaseFirstName + \" \" + lowercaseLastName;\n      const lowercaseSearch = value.toLowerCase();\n\n      if (\n        lowercaseFirstName.startsWith(lowercaseSearch) ||\n        lowercaseLastName.startsWith(lowercaseSearch) ||\n        fullName.startsWith(lowercaseSearch)\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n\n    // this.setState({ searchResults: filteredUsers });\n    setSearchResults(filteredUsers);\n  };\n\n  const handlePostSearchResults = (value) => {\n    const filteredPosts = posts.filter((post) => {\n      const lowercasePost = post.postContent.toLowerCase();\n      const lowercaseSearch = value.toLowerCase();\n\n      if (lowercasePost.includes(lowercaseSearch)) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n\n    setSearchPosts(filteredPosts);\n    const firstThreePosts = filteredPosts.splice(0, 3);\n    setSearchPostsFirstThree(firstThreePosts);\n  };\n\n  const handleInput = (event) => {\n    const { name, value } = event.target;\n    handleSearchResults(value);\n    handlePostSearchResults(value);\n    // this.setState({ [name]: value });\n    setSearchInput(value);\n  };\n\n  return (\n    <Theme dark={props.isDark}>\n      <div className=\"search\">\n        <h1>Search For A Fellow Developer</h1>\n        <input\n          className=\"input is-primary\"\n          name=\"searchInput\"\n          value={searchInput}\n          onChange={handleInput}\n          autoComplete=\"off\"\n        />\n        {searchInput === \"\" ? null : (\n          <div className=\"animated slideInUp search-content\">\n            <h1>People</h1>\n            <table>\n              <tbody className=\"search-table-body\">\n                {searchResults.length === 0 ? (\n                  <p>Not results found</p>\n                ) : (\n                  searchResults.map((user) => {\n                    return <SearchResult key={user._id} userSearch={user} />;\n                  })\n                )}\n              </tbody>\n            </table>\n\n            <h1\n              onClick={() => {\n                setShowPosts(!showPosts);\n              }}\n            >\n              Posts\n            </h1>\n            <AnimateSharedLayout>\n              <AnimatePresence>\n                {showPosts && (\n                  <motion.div\n                    layout\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                  >\n                    {searchPostsFirstThree.map((post) => {\n                      return (\n                        <Post\n                          key={post._id}\n                          post={post}\n                          searchWord={searchInput}\n                        />\n                      );\n                    })}\n\n                    <AnimatePresence>\n                      {seeMorePosts ? (\n                        <motion.div\n                          layout\n                          initial={{ opacity: 0 }}\n                          animate={{ opacity: 1 }}\n                          exit={{ opacity: 0 }}\n                        >\n                          {searchPosts.map((post) => {\n                            return (\n                              <Post\n                                key={post._id}\n                                post={post}\n                                searchWord={searchInput}\n                              />\n                            );\n                          })}\n                        </motion.div>\n                      ) : null}\n                    </AnimatePresence>\n                    <button\n                      className=\"see-more-button\"\n                      onClick={() => setSeeMorePosts(!seeMorePosts)}\n                    >\n                      See More\n                    </button>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </AnimateSharedLayout>\n          </div>\n        )}\n      </div>\n    </Theme>\n  );\n};\n\nexport default withAuth(Search);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nimport userService from \"./../../lib/user-service\";\nimport \"./Notifications.css\";\n\nclass Notifications extends Component {\n  state = {\n    notifications: [],\n  };\n  //   this.props.user.notifications.reverse().slice(0, 5)\n  componentDidMount() {\n    //this.filterLikes();\n    this.setState({\n      notifications: [...this.props.notifications].reverse().slice(0, 10),\n    });\n  }\n\n  filterNotifications = (notificationId) => {\n    const filteredNotifications = this.state.notifications.filter(\n      (notification) => {\n        if (notificationId === notification._id) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n    );\n\n    this.setState({ notifications: filteredNotifications });\n  };\n\n  deleteNotification = (notificationId) => {\n    userService\n      .deleteNotification(notificationId)\n      .then((apiResponse) => {\n        this.filterNotifications(notificationId);\n        this.props.reduceNotifications();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    const notifications = this.state.notifications;\n    return (\n      <motion.div\n        layout\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n      >\n        <div className=\"notifications-menu\">\n          <div className=\"notification\">\n            <p className=\"delete\" onClick={this.props.toggleNotifications}></p>\n            <table className=\"notification-table\">\n              <tbody>\n                {/* <div className=\"notification-item\" key={notification._id}> */}\n\n                {notifications.map((notification) => {\n                  return notification.notificationInfo !== \"follow\" ? (\n                    <tr>\n                      <td className=\"notifications-info\">\n                        <img\n                          src={`${notification.userActivity.image}`}\n                          alt=\"user profile\"\n                        />\n                        <Link to={`/postdetails/${notification.post}`}>\n                          <p>\n                            {notification.userActivity.firstName}{\" \"}\n                            {/* {notification.userActivity.lastName}{\" \"} */}\n                            {notification.notificationInfo} your post\n                          </p>\n                        </Link>\n                      </td>\n                      <td className=\"notifications-btn-delete\">\n                        <button\n                          className=\"delete notification-delete\"\n                          onClick={() =>\n                            this.deleteNotification(notification._id)\n                          }\n                        ></button>\n                      </td>\n                    </tr>\n                  ) : (\n                    <tr>\n                      <td className=\"notifications-info\">\n                        <img\n                          src={`${notification.userActivity.image}`}\n                          alt=\"user profile\"\n                        />\n                        <Link\n                          onClick={this.props.toggleNotifications}\n                          to={`/profile/${notification.userActivity._id}`}\n                        >\n                          {\" \"}\n                          <p>\n                            {notification.userActivity.firstName}{\" \"}\n                            {notification.userActivity.lastName} started\n                            following you\n                          </p>\n                        </Link>\n                      </td>\n                      <td className=\"notifications-btn-delete\">\n                        <button\n                          className=\"delete\"\n                          onClick={() =>\n                            this.deleteNotification(notification._id)\n                          }\n                        >\n                          Delete\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </motion.div>\n    );\n  }\n}\n\nexport default withAuth(Notifications);\n","import React, { Component } from \"react\";\nimport userService from \"./../../lib/user-service\";\nimport axios from \"axios\";\n\nclass EditProfile extends Component {\n  state = {\n    image: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    userService\n      .editPhoto(this.state.image)\n      .then((apiResponse) => {\n        console.log(apiResponse);\n        this.setState({ image: \"\" });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(\"http://localhost:5000/api/users/upload\", uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({ image: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    console.log(this.state);\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            name=\"image\"\n            type=\"file\"\n            // value={this.state.image}\n            onChange={this.handleFileUpload}\n          />\n\n          {this.state.postPhoto === \"\" ? null : (\n            <span>\n              <img\n                style={{ width: \"100px\" }}\n                src={this.state.postPhoto && this.state.postPhoto}\n                alt=\"\"\n              ></img>\n            </span>\n          )}\n          <button type=\"submit\">Save Changes</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EditProfile;\n","import React, { Component } from \"react\";\nimport EditProfile from \"./../EditProfile/EditProfile\";\nimport userService from \"./../../lib/user-service\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\n\nimport \"bulma/css/bulma.css\";\n\nclass Settings extends Component {\n  state = {\n    showEdit: false,\n    isFollowed: false,\n    showSettings: false,\n  };\n\n  componentDidMount() {\n    this.checkFollow();\n  }\n\n  toggleEdit = () => {\n    this.setState({ showEdit: !this.state.showEdit });\n  };\n\n  handleFollow = () => {\n    if (!this.state.isFollowed) {\n      userService.follow(this.props.user._id).then((apiResponse) => {\n        this.setState({ isFollowed: true });\n      });\n    } else if (this.state.isFollowed) {\n      userService\n        .unfollow(this.props.user._id)\n        .then((apiResponse) => {\n          console.log(apiResponse.data.following);\n          this.setState({ isFollowed: false });\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  checkFollow = () => {\n    this.props.user.followers.forEach((userFollowing) => {\n      if (this.props.user._id === userFollowing) {\n        this.setState({ isFollowed: true });\n      }\n    });\n  };\n  toggleSettings = () => {\n    this.setState({ showSettings: !this.state.showSettings });\n  };\n\n  render() {\n    return (\n      <div className=\"settings\">\n        <div onClick={this.toggleSettings}>\n          <SettingsIcon />\n        </div>\n        {this.state.showSettings ? (\n          <div className=\"settings-menu\">\n            <button\n              className=\"is-size-7\t button is-white\"\n              onClick={this.toggleEdit}\n            >\n              Edit Photo\n            </button>\n            {this.state.showEdit ? <EditProfile /> : null}\n\n            <button\n              className=\"is-size-7\t button is-white\"\n              onClick={this.props.logout}\n            >\n              Logout\n            </button>\n\n            <button\n              className=\"is-size-7\t button is-white\"\n              onClick={this.props.toggleTheme}\n            >\n              Toggle dark mode{\" \"}\n            </button>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Settings);\n","import styled, { css } from \"styled-components\";\n\nexport const ProfileButton = styled.div`\n  ${(props) =>\n    props.highlight &&\n    css`\n      ${\"\" /* border: 0.1rem solid #3b945e; */}\n      border-radius: 5px;\n    `}\n`;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport postService from \"./../../lib/post-service\";\nimport { Link } from \"react-router-dom\";\nimport { Theme } from \"./../../styles/themes\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport InsertCommentIcon from \"@material-ui/icons/InsertComment\";\n\n// import \"./../Posts/Post.css\";\nimport \"bulma/css/bulma.css\";\n\nclass Post extends Component {\n  state = {\n    isliked: false,\n    showDelete: false,\n    numberOfLikes: 0,\n    numberOfComments: 0,\n  };\n\n  countNumberOfLikes = () => {\n    let numberOfLikes = this.props.post.likes.length;\n    this.setState({ numberOfLikes });\n  };\n\n  countNumberOfComments = () => {\n    let numberOfComments = this.props.post.comments.length;\n    this.setState({ numberOfComments });\n  };\n\n  handleLike = () => {\n    if (!this.state.isLiked) {\n      postService\n        .likePost(this.props.post._id)\n        .then((postLiked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes++;\n          console.log(numberOfLikes);\n          this.setState({ numberOfLikes: numberOfLikes });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (this.state.isLiked) {\n      postService\n        .unlikePost(this.props.post._id)\n        .then((postUnliked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes--;\n          console.log(numberOfLikes);\n          this.setState({ numberOfLikes: numberOfLikes });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    this.setState({ isLiked: !this.state.isLiked });\n  };\n\n  componentDidMount() {\n    let isLiked = false;\n    if (this.props.post) {\n      this.props.post.likes.forEach((likeId) => {\n        if (likeId === this.props.user._id) {\n          isLiked = true;\n        }\n      });\n    }\n    this.setState({ isLiked: isLiked });\n    this.countNumberOfLikes();\n    this.countNumberOfComments();\n  }\n\n  toggleDelete = () => {\n    this.setState({ showDelete: !this.state.showDelete });\n  };\n\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  render() {\n    const { post } = this.props;\n\n    return (\n      <Theme dark={this.props.isDark}>\n        <div>\n          <div className=\"post-main\">\n            <div>\n              <img src={post.postedBy.image} alt=\"user profile\" />\n            </div>\n            <div className=\"post-section\">\n              <div className=\"post-user-info\">\n                <div className=\"post-user\">\n                  {\" \"}\n                  {post.postedBy && post.postedBy.firstName}{\" \"}\n                  {post.postedBy && post.postedBy.lastName}\n                  {\"   \"}\n                </div>\n                <div className=\"date\">{this.outputDate(post.date)}</div>\n                <p\n                  onClick={this.toggleDelete}\n                  href=\"#\"\n                  className=\"delete-icon delete is-size-7\"\n                ></p>\n                {this.state.showDelete ? (\n                  <div>\n                    <button\n                      className=\"button is-warning is-light is-size-7\"\n                      onClick={() => this.props.deletePost(post._id)}\n                    >\n                      Confirm Delete\n                    </button>\n                    <button\n                      className=\"button is-info is-light is-size-7\"\n                      onClick={this.toggleDelete}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                ) : null}{\" \"}\n              </div>\n\n              {post.postPhoto ? (\n                <img\n                  className=\"post-image\"\n                  style={{ width: \"100px\" }}\n                  src={post.postPhoto && post.postPhoto}\n                  alt=\"\"\n                ></img>\n              ) : null}\n              <Link to={`/postdetails/${post._id}`}>\n                {\" \"}\n                <div className=\"post-content\">{post.postContent}</div>\n                {post.code && (\n                  <code>\n                    <pre>{post.code}</pre>\n                  </code>\n                )}\n              </Link>\n\n              <div className=\"post-actions\">\n                {\" \"}\n                <div onClick={this.handleLike}>\n                  {this.state.isLiked ? (\n                    <ThumbUpIcon fontSize=\"small\" color=\"primary\" />\n                  ) : (\n                    <ThumbUpIcon fontSize=\"small\" /> //color=\"disabled\"\n                  )}{\" \"}\n                  <div>{this.state.numberOfLikes}</div>\n                </div>\n                <div className=\"comment-icon\">\n                  <InsertCommentIcon />\n                  <div>{this.state.numberOfComments}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Theme>\n    );\n  }\n}\n\nexport default withAuth(Post);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport userService from \"./../lib/user-service\";\nimport Post from \"./../components/Posts/Post\";\nimport Notifications from \"./../components/Notifications/Notifications\";\nimport Settings from \"./../components/Settings/Settings\";\n\nimport Badge from \"@material-ui/core/Badge\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\n\nimport { Theme } from \"./../styles/themes\";\nimport { ProfileButton } from \"./../styles/profile-button\";\n\nimport UserPost from \"./../components/UserPost/UserPost\";\nimport axios from \"axios\";\nimport \"bulma/css/bulma.css\";\n\nimport { Link } from \"react-router-dom\";\nimport postService from \"../lib/post-service\";\nimport io from \"socket.io-client\";\n\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Profile extends Component {\n  state = {\n    user: {},\n    posts: [],\n    isAdmin: false,\n    isFollowed: false,\n    showDelete: false,\n    userId: \"\",\n    showPosts: true,\n    showLikes: false,\n    showFollowing: false,\n    postInput: \"\",\n    postPhoto: \"\",\n    showNotifications: false,\n    numberOfNotifications: 0,\n    newNotification: false,\n    showSettings: false,\n    following: [],\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n\n    this.handlePostApi(true);\n\n    socket.on(\"notification\", (response) => {\n      const userId = response.userId.userId;\n      const userLiked = response.userId.userLiked;\n      console.log(userLiked);\n      if (userId === this.props.user._id && userLiked !== this.props.user._id) {\n        this.handlePostApi();\n      }\n    });\n  }\n\n  handlePostApi = (mount) => {\n    const profileId = this.props.match.params.id;\n    userService\n      .getOne(profileId)\n      .then((apiResponse) => {\n        this.setState({\n          user: apiResponse.data.user,\n          isAdmin: apiResponse.data.isAdmin,\n          userId: profileId,\n          newNotification: apiResponse.data.user.newNotification,\n        });\n        if (mount) {\n          this.displayPosts();\n        }\n\n        this.checkFollow();\n        this.orderPosts();\n        this.setFollowing();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  orderPosts = () => {\n    const postsArr = [];\n\n    this.state.user.posts.forEach((post) => {\n      postsArr.push(post);\n    });\n    postsArr.sort((a, b) => {\n      if (a.date > b.date) {\n        return -1;\n      } else if (a.date > b.date) {\n        return 1;\n      }\n      return 0;\n    });\n\n    this.setState({\n      posts: postsArr,\n      numberOfNotifications: this.state.user.notifications.length,\n    });\n  };\n\n  componentDidUpdate = () => {\n    if (this.state.userId !== this.props.match.params.id) {\n      this.handlePostApi();\n    }\n  };\n\n  checkFollow = () => {\n    this.state.user.followers.forEach((userFollowing) => {\n      if (this.props.user._id === userFollowing) {\n        this.setState({ isFollowed: true });\n      }\n    });\n  };\n\n  socketFollow = () => {\n    console.log(\"sockey run\");\n    socket.emit(\n      \"notification\",\n      { userId: this.state.user._id, userLiked: this.props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  handleFollow = () => {\n    if (!this.state.isFollowed) {\n      userService.follow(this.state.user._id).then((apiResponse) => {\n        this.setState({ isFollowed: true });\n        this.socketFollow();\n      });\n    } else if (this.state.isFollowed) {\n      userService\n        .unfollow(this.state.user._id)\n        .then((apiResponse) => {\n          console.log(apiResponse.data.following);\n          this.setState({ isFollowed: false });\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  deletePost = (postId) => {\n    postService\n      .delete(postId)\n      .then((apiResponse) => {\n        this.handlePostApi();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  displayPosts = () => {\n    this.handlePostApi(false);\n\n    this.setState({ showPosts: true, showLikes: false, showFollowing: false });\n  };\n  displayLikes = () => {\n    this.handlePostApi(false);\n\n    this.setState({ showPosts: false, showLikes: true, showFollowing: false });\n  };\n  displayFollowing = () => {\n    this.handlePostApi(false);\n\n    this.setState({ showPosts: false, showLikes: false, showFollowing: true });\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    postService\n      .createPost(\n        this.props.user._id,\n        this.state.postInput,\n        this.state.postPhoto\n      )\n      .then((createdPost) => {\n        this.handlePostApi();\n        this.setState({ postPhoto: \"\", postInput: \"\" });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleNotifications = () => {\n    if (this.state.newNotification) {\n      userService\n        .seenNotification()\n        .then((apiResponse) => {\n          this.setState({ newNotification: false });\n        })\n        .catch((err) => console.log(err));\n    }\n    this.setState({ showNotifications: !this.state.showNotifications });\n  };\n\n  reduceNotifications = () => {\n    let notifications = this.state.numberOfNotifications;\n\n    notifications--;\n    this.setState({ numberOfNotifications: notifications });\n  };\n\n  toggleSettings = () => {\n    this.setState({ showSettings: !this.state.showSettings });\n  };\n\n  setFollowing = () => {\n    const following = this.state.user.following;\n    const userProfile = this.state.user;\n    const filteredFollowing = following.filter((user) => {\n      if (user._id === userProfile._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    this.setState({ following: filteredFollowing });\n  };\n\n  handleFileUpload = (e) => {\n    console.log(\"The file to be uploaded is: \", e.target.files);\n    const file = e.target.files[0];\n\n    const uploadData = new FormData();\n    // image => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\n    uploadData.append(\"image\", file);\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/posts/upload`, uploadData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        this.setState({ postPhoto: response.data.secure_url });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n  getNumberOfFollowers = () => {\n    const isAdmin = this.state.isAdmin;\n    if (isAdmin) {\n      if (this.state.isFollowed) {\n        return this.state.user.following.length - 1;\n      } else {\n        return this.state.user.following.length;\n      }\n    } else {\n      return this.state.user.following.length;\n    }\n  };\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(1, 4).join(\" \");\n\n    return day;\n  };\n\n  render() {\n    // console.log(this.state.user);\n    // if (this.state.user.following) {\n    //   console.log(this.state.user.following.length);\n    // }\n    // const props = useSpring({\n    //   to: { opacity: 1 },\n    //   from: { opacity: 0 },\n    // });\n    return (\n      <div className=\"profile\">\n        <Theme dark={this.props.isDark}>\n          <div className=\"profile-header\">\n            <img src={this.state.user.image} alt=\"user profile\" />\n            <div>\n              <p>\n                {this.state.user.firstName} {this.state.user.lastName}\n              </p>\n              <p className=\"join-date\">\n                Joined on {this.outputDate(this.state.user.created_at)}\n              </p>\n            </div>\n\n            {this.state.isAdmin ? (\n              <Settings userProfile={this.state.user} />\n            ) : (\n              <button\n                className=\"button is-white is-size-7\"\n                onClick={this.handleFollow}\n              >\n                {this.state.isFollowed ? \"Unfollow\" : \"Follow\"}\n              </button>\n            )}\n            <div className=\"notifications\">\n              {this.state.isAdmin ? (\n                <div>\n                  {this.state.newNotification ? (\n                    <div\n                      onClick={this.toggleNotifications}\n                      id=\"new-notification\"\n                      className=\"notification is-primary animated bounce\"\n                    >\n                      You have a new notification\n                    </div>\n                  ) : null}\n\n                  <div onClick={this.toggleNotifications}>\n                    <Badge\n                      badgeContent={this.state.numberOfNotifications}\n                      color=\"primary\"\n                      max={10}\n                    >\n                      <NotificationsIcon />\n                    </Badge>\n                  </div>\n                </div>\n              ) : null}\n              {this.state.showNotifications ? (\n                <Notifications\n                  toggleNotifications={this.toggleNotifications}\n                  notifications={this.state.user.notifications}\n                  reduceNotifications={this.reduceNotifications}\n                />\n              ) : null}\n            </div>\n          </div>\n\n          <div className=\"button-group\">\n            <ProfileButton highlight={this.state.showPosts}>\n              <div className=\"button is-white\" onClick={this.displayPosts}>\n                {\" \"}\n                Posts {this.state.posts && this.state.posts.length}\n              </div>\n            </ProfileButton>\n\n            <ProfileButton highlight={this.state.showLikes}>\n              <div className=\"button is-white\" onClick={this.displayLikes}>\n                {\" \"}\n                Likes {this.state.user.likes && this.state.user.likes.length}\n              </div>\n            </ProfileButton>\n            <ProfileButton highlight={this.state.showFollowing}>\n              <div className=\"button is-white\" onClick={this.displayFollowing}>\n                Following{\" \"}\n                {this.state.user.following && this.state.following.length}\n              </div>\n            </ProfileButton>\n          </div>\n\n          {this.state.showPosts ? (\n            <div className=\"animated fadeInUp\">\n              {this.state.isAdmin ? (\n                <div>\n                  <form\n                    className=\"profile-post-form post-form\"\n                    onSubmit={this.handleSubmit}\n                  >\n                    <div className=\"post-main\">\n                      <div>\n                        <img src={this.props.user.image} alt=\"user profile\" />\n                      </div>\n                      <div className=\"post-section\">\n                        <div className=\"post-user-info\">\n                          <div className=\"post-user\">\n                            {\" \"}\n                            {this.props.user && this.props.user.firstName}{\" \"}\n                            {this.props.user && this.props.user.lastName}\n                            {\"   \"}\n                          </div>\n                        </div>\n                        {this.state.postPhoto === \"\" ? null : (\n                          <span>\n                            <img\n                              style={{ width: \"100px\" }}\n                              src={this.state.postPhoto && this.state.postPhoto}\n                              alt=\"\"\n                            ></img>\n                          </span>\n                        )}\n                        <textarea\n                          className=\"post\"\n                          name=\"postInput\"\n                          value={this.state.postInput}\n                          onChange={this.handleInput}\n                          placeholder=\"Share you code...\"\n                          required\n                        />\n                        <div className=\"post-actions\">\n                          <input\n                            name=\"postPhoto\"\n                            type=\"file\"\n                            // value={this.state.postPhoto}\n                            onChange={this.handleFileUpload}\n                          />\n                          <button\n                            className=\"button is-white s-size-7\"\n                            type=\"submit\"\n                          >\n                            Post\n                          </button>{\" \"}\n                        </div>\n                      </div>\n                    </div>\n\n                    {this.state.postPhoto === \"\" ? null : (\n                      <span>\n                        <img\n                          style={{ width: \"100px\" }}\n                          src={this.state.postPhoto && this.state.postPhoto}\n                          alt=\"\"\n                        ></img>\n                      </span>\n                    )}\n                  </form>\n                </div>\n              ) : null}\n              {this.state.posts &&\n                this.state.posts.map((post) => {\n                  return (\n                    <div key={post._id}>\n                      {this.state.isAdmin ? (\n                        <UserPost post={post} deletePost={this.deletePost} />\n                      ) : (\n                        <Post post={post} />\n                      )}\n                    </div>\n                  );\n                })}{\" \"}\n            </div>\n          ) : null}\n\n          {this.state.showLikes ? (\n            <div className=\"animated fadeInUp\">\n              {this.state.user.likes.length === 0 ? (\n                <h3 className=\"no-info\">No likes yet</h3>\n              ) : (\n                this.state.user.likes.map((post) => {\n                  return <Post key={post._id} post={post} />;\n                })\n              )}\n            </div>\n          ) : null}\n\n          {this.state.showFollowing ? (\n            <div className=\"animated fadeInUp\">\n              {this.state.following.length === 0 ? (\n                <h3 className=\"no-info\">Not following anyone</h3>\n              ) : (\n                <table>\n                  <tbody>\n                    {this.state.following.map((user) => {\n                      return (\n                        <tr key={user._id} className=\"following-link\">\n                          <td>\n                            <img src={user.image} alt=\"user profile\" />\n                          </td>\n\n                          <td>\n                            <p>\n                              <Link to={`/profile/${user._id}`}>\n                                {user.firstName} {user.lastName}\n                              </Link>\n                            </p>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          ) : null}\n        </Theme>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { useState, useEffect } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport userService from \"./../lib/user-service\";\nimport Post from \"./../components/Posts/Post\";\nimport PostHook from \"./../components/Posts/PostHook\";\n\nimport Notifications from \"./../components/Notifications/Notifications\";\nimport Settings from \"./../components/Settings/Settings\";\nimport PostInput from \"./../components/PostInput/PostInput\";\n\nimport Badge from \"@material-ui/core/Badge\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\n\nimport { Theme } from \"./../styles/themes\";\nimport { ProfileButton } from \"./../styles/profile-button\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\n\nimport UserPost from \"./../components/UserPost/UserPost\";\nimport \"bulma/css/bulma.css\";\n\nimport { Link } from \"react-router-dom\";\nimport postService from \"../lib/post-service\";\nimport io from \"socket.io-client\";\n\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nconst Profile = (props) => {\n  const [user, setUser] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [showPosts, setShowPosts] = useState(true);\n  const [showLikes, setShowLikes] = useState(false);\n  const [showFollowing, setShowFollowing] = useState(false);\n\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [numberOfNotifications, setNumberOfNotifications] = useState(0);\n  const [newNotification, setNewNotification] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [following, setFollowing] = useState([]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    handlePostApi(true);\n\n    socket.on(\"notification\", (response) => {\n      const userId = response.userId.userId;\n      const userLiked = response.userId.userLiked;\n      if (userId === props.user._id && userLiked !== props.user._id) {\n        handlePostApi();\n      }\n    });\n  }, []);\n\n  const handlePostApi = (mount) => {\n    const profileId = props.match.params.id;\n    userService\n      .getOne(profileId)\n      .then((apiResponse) => {\n        setUser(apiResponse.data.user);\n        setIsAdmin(apiResponse.data.isAdmin);\n        setUserId(profileId);\n        setNewNotification(apiResponse.data.user.newNotification);\n        if (mount) {\n          displayPosts();\n        }\n\n        // checkFollow();\n        // orderPosts();\n        // filterFollowing();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    //checkFollow();\n    orderPosts();\n    //filterFollowing();\n    setFollowing(user.following);\n  }, [user]);\n\n  const orderPosts = () => {\n    const postsArr = [];\n    if (Object.keys(user).length !== 0) {\n      user.posts.forEach((post) => {\n        postsArr.push(post);\n      });\n      postsArr.sort((a, b) => {\n        if (a.date > b.date) {\n          return -1;\n        } else if (a.date > b.date) {\n          return 1;\n        }\n        return 0;\n      });\n\n      setPosts(postsArr);\n      setNumberOfNotifications(user.notifications.length);\n    }\n  };\n\n  useEffect(() => {\n    if (userId !== props.match.params.id) {\n      handlePostApi();\n    }\n  }, [props.match.params.id]);\n\n  const checkFollow = () => {\n    user.followers.forEach((userFollowing) => {\n      if (props.user._id === userFollowing) {\n        setIsFollowed(true);\n      }\n    });\n  };\n\n  const socketFollow = () => {\n    socket.emit(\n      \"notification\",\n      { userId: user._id, userLiked: props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  const handleFollow = () => {\n    if (!isFollowed) {\n      userService.follow(user._id).then((apiResponse) => {\n        setIsFollowed(true);\n        socketFollow();\n      });\n    } else if (isFollowed) {\n      userService\n        .unfollow(user._id)\n        .then((apiResponse) => {\n          setIsFollowed(false);\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const deletePost = (postId) => {\n    postService\n      .delete(postId)\n      .then((apiResponse) => {\n        handlePostApi();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const displayPosts = () => {\n    handlePostApi(false);\n\n    setShowPosts(true);\n    setShowLikes(false);\n    setShowFollowing(false);\n  };\n\n  const displayLikes = () => {\n    handlePostApi(false);\n\n    setShowPosts(false);\n    setShowLikes(true);\n    setShowFollowing(false);\n  };\n  const displayFollowing = () => {\n    handlePostApi(false);\n\n    setShowPosts(false);\n    setShowLikes(false);\n    setShowFollowing(true);\n  };\n\n  const handleComponentSubmit = () => {\n    handlePostApi();\n  };\n\n  const toggleNotifications = () => {\n    if (newNotification) {\n      userService\n        .seenNotification()\n        .then((apiResponse) => {\n          setNewNotification(false);\n        })\n        .catch((err) => console.log(err));\n    }\n    setShowNotifications(!showNotifications);\n  };\n\n  const reduceNotifications = () => {\n    let notifications = numberOfNotifications;\n\n    notifications--;\n    setNumberOfNotifications(notifications);\n  };\n\n  const filterFollowing = () => {\n    const following = user.following;\n    const userProfile = user;\n    const filteredFollowing = following.filter((user) => {\n      if (user._id === userProfile._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    // this.setState({ following: filteredFollowing });\n    setFollowing(filteredFollowing);\n  };\n\n  const outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(1, 4).join(\" \");\n\n    return day;\n  };\n\n  const spring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 30,\n  };\n\n  function onPan(event, info) {\n    console.log(info.point.x, info.point.y);\n  }\n\n  return (\n    <div className=\"profile\">\n      <Theme dark={props.isDark}>\n        <div className=\"profile-header\">\n          <img src={user.image} alt=\"user profile\" />\n          <div>\n            <p>\n              {user.firstName} {user.lastName}\n            </p>\n            <p className=\"join-date\">Joined on {outputDate(user.created_at)}</p>\n          </div>\n\n          {isAdmin ? (\n            <Settings userProfile={user} />\n          ) : (\n            <button\n              className=\"button is-white is-size-7\"\n              onClick={handleFollow}\n            >\n              {isFollowed ? \"Unfollow\" : \"Follow\"}\n            </button>\n          )}\n          <div className=\"notifications\">\n            {isAdmin ? (\n              <div>\n                {newNotification ? (\n                  <div\n                    onClick={toggleNotifications}\n                    id=\"new-notification\"\n                    className=\"notification is-primary animated bounce\"\n                  >\n                    You have a new notification\n                  </div>\n                ) : null}\n\n                <div onClick={toggleNotifications}>\n                  <Badge\n                    badgeContent={numberOfNotifications}\n                    color=\"primary\"\n                    max={10}\n                  >\n                    <NotificationsIcon />\n                  </Badge>\n                </div>\n              </div>\n            ) : null}\n            <AnimatePresence>\n              {showNotifications ? (\n                <Notifications\n                  toggleNotifications={toggleNotifications}\n                  notifications={user.notifications}\n                  reduceNotifications={reduceNotifications}\n                />\n              ) : null}\n            </AnimatePresence>\n          </div>\n        </div>\n\n        <AnimateSharedLayout>\n          <div className=\"button-group\">\n            <ProfileButton highlight={showPosts}>\n              <div className=\"button is-white\" onClick={displayPosts}>\n                {\" \"}\n                {showPosts && (\n                  <motion.div\n                    layoutId=\"outline\"\n                    className=\"outline\"\n                    initial={false}\n                    animate={{ borderColor: \"#22cc88\" }}\n                    transition={spring}\n                  ></motion.div>\n                )}\n                Posts {posts && posts.length}\n              </div>\n            </ProfileButton>\n\n            <ProfileButton highlight={showLikes}>\n              <div className=\"button is-white\" onClick={displayLikes}>\n                {\" \"}\n                {showLikes && (\n                  <motion.div\n                    layoutId=\"outline\"\n                    className=\"outline\"\n                    initial={false}\n                    animate={{ borderColor: \"#22cc88\" }}\n                    transition={spring}\n                  ></motion.div>\n                )}\n                Likes {user.likes && user.likes.length}\n              </div>\n            </ProfileButton>\n            <ProfileButton highlight={showFollowing}>\n              <div className=\"button is-white\" onClick={displayFollowing}>\n                {showFollowing && (\n                  <motion.div\n                    layoutId=\"outline\"\n                    className=\"outline\"\n                    initial={false}\n                    animate={{ borderColor: \"#22cc88\" }}\n                    transition={spring}\n                  ></motion.div>\n                )}\n                Following {user.following && user.following.length}\n              </div>\n            </ProfileButton>\n          </div>\n        </AnimateSharedLayout>\n\n        {/* <motion.div\n          drag\n          onDrag={(event, info) => {\n            console.log(info.point.x);\n            if (info.point.x > 200) {\n              displayLikes();\n            }\n          }}\n        > */}\n        {showPosts ? (\n          <div className=\"animated fadeInUp\">\n            {isAdmin ? (\n              <div>\n                <PostInput handleComponentSubmit={handleComponentSubmit} />\n              </div>\n            ) : null}\n            {posts &&\n              posts.map((post) => {\n                return (\n                  <div key={post._id}>\n                    {isAdmin ? (\n                      <UserPost post={post} deletePost={deletePost} />\n                    ) : (\n                      <PostHook post={post} />\n                    )}\n                  </div>\n                );\n              })}{\" \"}\n          </div>\n        ) : null}\n\n        {showLikes ? (\n          <div className=\"animated fadeInUp\">\n            {user.likes.length === 0 ? (\n              <h3 className=\"no-info\">No likes yet</h3>\n            ) : (\n              user.likes.map((post) => {\n                return <PostHook key={post._id} post={post} />;\n              })\n            )}\n          </div>\n        ) : null}\n\n        {showFollowing ? (\n          <div className=\"animated fadeInUp\">\n            {following.length === 0 ? (\n              <h3 className=\"no-info\">Not following anyone</h3>\n            ) : (\n              <table>\n                <tbody>\n                  {following.map((user) => {\n                    return (\n                      <tr key={user._id} className=\"following-link\">\n                        <td>\n                          <img src={user.image} alt=\"user profile\" />\n                        </td>\n\n                        <td>\n                          <p>\n                            <Link to={`/profile/${user._id}`}>\n                              {user.firstName} {user.lastName}\n                            </Link>\n                          </p>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            )}\n          </div>\n        ) : null}\n        {/* </motion.div> */}\n      </Theme>\n    </div>\n  );\n};\n\nexport default withAuth(Profile);\n","import styled, { css } from \"styled-components\";\n\nexport const LikeItem = styled.div`\n  ${() =>\n    css`\nbackground-color: white;\ntop:0;\ndisplay:flex;\njusifty-content:space-between;\nalign-items:center; \nwidth:100%;\nmargin:0 auto;\n\nimg{\n  width:25px;\n  height:25px;\n  border-radius:50%;\n  margin:5px 10px;\n}\n\np {\n  margin-bottom:5px;\n  font-size:0.8rem;\n`}\n`;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../context/auth-context\";\nimport postService from \"./../lib/post-service\";\nimport { Link } from \"react-router-dom\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport InsertCommentIcon from \"@material-ui/icons/InsertComment\";\nimport Comment from \"./../components/Comment/Comment\";\nimport { LikeItem } from \"./../styles/likeitem\";\nimport { Theme } from \"./../styles/themes\";\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass PostDetails extends Component {\n  state = {\n    post: {},\n    isLiked: false,\n    commentInput: \"\",\n    numberOfLikes: 0,\n    numberOfComments: 0,\n    showLikes: false,\n    showPhoto: false,\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n\n    this.handlePostById();\n  }\n\n  componentWillUnmount() {\n    console.log(\"unmount\");\n  }\n  countNumberOfLikes = () => {\n    let numberOfLikes = this.state.post.likes.length;\n    this.setState({ numberOfLikes });\n  };\n\n  countNumberOfComments = () => {\n    let numberOfComments = this.state.post.comments.length;\n    this.setState({ numberOfComments });\n  };\n\n  setLike = () => {\n    let isLiked = false;\n\n    this.state.post.likes.forEach((user) => {\n      if (user._id === this.props.user._id) {\n        isLiked = true;\n      }\n    });\n\n    this.setState({ isLiked: isLiked });\n  };\n\n  toggleLikes = () => {\n    this.setState({ showLikes: !this.state.showLikes });\n  };\n\n  handlePostById = () => {\n    const { postId } = this.props.match.params;\n    postService\n      .getById(postId)\n      .then((apiResponse) => {\n        this.setState({ post: apiResponse.data });\n        this.setLike();\n        this.countNumberOfLikes();\n        this.countNumberOfComments();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  handleLike = () => {\n    if (!this.state.isLiked) {\n      postService\n        .likePost(this.state.post._id)\n        .then((postLiked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes++;\n          this.setState({ numberOfLikes: numberOfLikes });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (this.state.isLiked) {\n      postService\n        .unlikePost(this.state.post._id)\n        .then((postUnliked) => {\n          let numberOfLikes = this.state.numberOfLikes;\n          numberOfLikes--;\n          this.setState({ numberOfLikes: numberOfLikes });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    this.setState({ isLiked: !this.state.isLiked });\n  };\n\n  socketComment = () => {\n    console.log(\"sockey run\");\n    socket.emit(\n      \"notification\",\n      { userId: this.state.post.postedBy._id, userLiked: this.props.user._id },\n      () => {\n        console.log(\"socket called\");\n      }\n    );\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    postService\n      .comment(this.state.post._id, this.state.commentInput)\n      .then((apiResponse) => {\n        console.log(apiResponse.data);\n        this.handlePostById();\n        this.setState({ commentInput: \"\" });\n        this.socketComment();\n      });\n  };\n\n  showCommentInput = () => {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"post-comment\">\n        <input\n          name=\"commentInput\"\n          value={this.state.commentInput}\n          onChange={this.handleInput}\n          autoComplete=\"off\"\n          placeholder=\"Write your comment here...\"\n          required\n        />\n        <button\n          id=\"comment-btn\"\n          className=\"button is-white s-size-7\"\n          type=\"submit\"\n        >\n          Comment\n        </button>\n      </form>\n    );\n  };\n\n  handlePostLinks = () => {\n    const postContent = this.state.post.postContent.split(\" \");\n    console.log(postContent);\n\n    const postContentWithLinkSplit = postContent.map((word) => {\n      if (word.startsWith(\"http\") || word.startsWith(\"https\")) {\n        return <a href={`${word}`}>{word}</a>;\n      } else {\n        return word;\n      }\n    });\n    console.log(postContentWithLinkSplit);\n\n    const postContentWithLink = postContentWithLinkSplit.join(\" \");\n\n    console.log(postContentWithLink);\n\n    return <p>{postContentWithLinkSplit}</p>;\n  };\n\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n  toggleShowPicture = () => {\n    this.setState({ showPhoto: !this.state.showPhoto });\n  };\n\n  render() {\n    const post = this.state.post;\n\n    return (\n      <div>\n        <Theme dark={this.props.isDark}>\n          <div id=\"post-details\">\n            <div className=\"post-main\">\n              <div>\n                <img\n                  src={post.postedBy && post.postedBy.image}\n                  alt=\"user profile\"\n                />\n              </div>\n              <div className=\"post-section\">\n                <div className=\"post-user-info\">\n                  <Link to={`/profile/${post.postedBy && post.postedBy._id}`}>\n                    <div className=\"post-user\">\n                      {\" \"}\n                      {post.postedBy && post.postedBy.firstName}{\" \"}\n                      {post.postedBy && post.postedBy.lastName}\n                      {\"   \"}\n                    </div>\n                  </Link>\n                  <div className=\"date\">{this.outputDate(post.date)}</div>\n                </div>\n                {post.postPhoto ? (\n                  <img\n                    onClick={this.toggleShowPicture}\n                    className=\"post-image\"\n                    style={{ width: \"100px\" }}\n                    src={post.postPhoto && post.postPhoto}\n                    alt=\"\"\n                  ></img>\n                ) : null}{\" \"}\n                <div className=\"post-content\"> {post.postContent}</div>\n                <p className=\"like-btn\" onClick={this.toggleLikes}>\n                  Likes\n                </p>\n                <div className=\"post-actions\">\n                  {\" \"}\n                  <div onClick={this.handleLike}>\n                    {this.state.isLiked ? (\n                      <ThumbUpIcon fontSize=\"small\" color=\"primary\" />\n                    ) : (\n                      <ThumbUpIcon fontSize=\"small\" color=\"disabled\" />\n                    )}{\" \"}\n                    <div>{this.state.numberOfLikes}</div>\n                  </div>\n                  <div className=\"comment-icon\">\n                    <InsertCommentIcon />\n                    <div>{this.state.numberOfComments}</div>\n                  </div>\n                </div>\n                {this.state.showPhoto ? (\n                  <img\n                    onClick={this.toggleShowPicture}\n                    className=\"large-img animated zoomIn\"\n                    src={post.postPhoto && post.postPhoto}\n                    alt=\"\"\n                  ></img>\n                ) : null}\n              </div>\n            </div>\n\n            <section className=\"comments\">\n              {post.comments &&\n                post.comments.map((comment) => {\n                  return (\n                    <Comment\n                      outputDate={this.outputDate}\n                      key={comment._id}\n                      getPostDetails={this.handlePostById}\n                      comment={comment}\n                    />\n                  );\n                })}\n\n              <div>\n                <div className=\"post-main\">\n                  <div>\n                    <img src={`${this.props.user.image}`} alt=\"user profile\" />\n                  </div>\n                  <div className=\"post-section\">\n                    <div className=\"post-user-info\">\n                      {\" \"}\n                      <div className=\"post-user\">\n                        {\" \"}\n                        {this.props.user.firstName} {this.props.user.lastName}\n                        {\"   \"}\n                      </div>{\" \"}\n                    </div>{\" \"}\n                    <div className=\"post-content\">\n                      {\" \"}\n                      {this.showCommentInput()}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </section>\n\n            {this.state.showLikes ? (\n              <div className=\"likes\">\n                <div className=\"like-content animated zoomIn\">\n                  <p\n                    className=\"delete close-likes\"\n                    onClick={this.toggleLikes}\n                  ></p>\n                  {post.likes &&\n                    post.likes.map((user) => {\n                      return (\n                        <Link to={`/profile/${user._id}`}>\n                          <LikeItem>\n                            <img src={`${user.image}`} alt=\"profile\" />\n                            <p className=\"like-item\" key={user._id}>\n                              {user.firstName} {user.lastName}\n                            </p>{\" \"}\n                          </LikeItem>\n                        </Link>\n                      );\n                    })}\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </Theme>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PostDetails);\n","import styled, { css } from \"styled-components\";\n\nexport const MessagePreview = styled.div`\n  ${() =>\n    css`\n  background-color: #f2f2f2;\nimg{\n    width:30px;\n    height:30px;\n    border-radius:50%;\n    margin:5px 10px;\n}\n  h3{\n    \n    font-size:1.2rem;\n  }\n \n  p {\n    margin-bottom:5px;\n    font-size:0.8rem;\n`}\n`;\n\nexport const MessagePreviewSelected = styled.div`\n  ${(props) =>\n    props.isSelected &&\n    css`\n  background-color: #57ba98;\n\n  h3{\n    color:white;\n  }\n \n  p {\n    color:white\n`}\n`;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { MessagePreviewSelected } from \"./../../styles/message-preview\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport \"bulma/css/bulma.css\";\nimport \"./ConversationListItem.css\";\n\nclass ConversationListItem extends Component {\n  state = {\n    unreadMessages: 0,\n    isOnline: false,\n    isSelected: false,\n    conversationSelected: \"\",\n  };\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  componentDidMount() {\n    this.checkNotifications();\n    const conversationSelected = this.props.selected;\n    this.setState({ conversationSelected });\n  }\n\n  componentDidUpdate() {\n    const conversationSelected = this.props.selected;\n\n    const currentConversation = this.state.conversationSelected;\n\n    if (conversationSelected !== currentConversation) {\n      // this.handleSelected();\n    }\n  }\n\n  checkOnline = () => {\n    const onlineArr = this.props.online;\n    let online = false;\n    const receiverUserId = this.props.receiverUser._id;\n    onlineArr.forEach((onlineUser) => {\n      if (onlineUser === receiverUserId) {\n        online = true;\n      }\n    });\n\n    return online;\n  };\n\n  checkNotifications = () => {\n    const currentUserId = this.props.user._id;\n    const conversation = this.props.conversation;\n\n    // conversation.notifications.forEach((userId)=>{\n    //     if(currentUserId === userId){\n    //         this.setState({unreadMessages: conversation.notifications.length})\n    //         break\n    //     }\n    // })\n\n    if (conversation.notifications[0] === currentUserId) {\n      console.log(\n        \"notications\",\n        conversation.notifications.length,\n        conversation._id\n      );\n      this.setState({ unreadMessages: conversation.notifications.length });\n    }\n  };\n\n  handleSelected = () => {\n    const currentConversation = this.props.conversation._id;\n    const conversationSelected = this.props.selected;\n    console.log(\"Called\", currentConversation);\n    if (conversationSelected !== currentConversation) {\n      // this.setState({ isSelected: true });\n    }\n  };\n  render() {\n    const { conversation, messageArrLength, receiverUser } = this.props;\n    // console.log(this.state.unreadMessages);\n    // console.log(\"isOnline\", this.checkOnline());\n    console.log(this.state.isSelected);\n    return (\n      <MessagePreviewSelected isSelected={this.state.isSelected}>\n        <div className=\"message-preview\">\n          <img src={`${receiverUser && receiverUser.image}`} alt=\"profile\" />\n          <div className=\"message-name\">\n            <h3>\n              {receiverUser && receiverUser.firstName}{\" \"}\n              {receiverUser && receiverUser.lastName}{\" \"}\n              {this.checkOnline() ? (\n                <CheckIcon className=\"online animated bounce\" />\n              ) : null}\n            </h3>\n            {/* <CheckIcon className=\"offline\" /> */}\n            <div className=\"message-info\">\n              <div>\n                {this.state.unreadMessages === 0 ? null : (\n                  <div className=\"unread\">\n                    <p>{this.state.unreadMessages}</p>\n                  </div>\n                )}\n                <div className=\"preview-message-content\">\n                  {conversation.messages[messageArrLength] &&\n                    conversation.messages[messageArrLength].userSent.firstName}\n                  :{\" \"}\n                  {conversation.messages[messageArrLength] &&\n                    conversation.messages[messageArrLength].messageContent}\n                </div>\n              </div>\n              <p className=\"message-date\">\n                {this.outputDate(\n                  conversation.messages[messageArrLength] &&\n                    conversation.messages[messageArrLength].updated_at\n                )}\n              </p>\n            </div>\n          </div>\n        </div>\n      </MessagePreviewSelected>\n    );\n  }\n}\n\nexport default withAuth(ConversationListItem);\n","import styled, { css } from \"styled-components\";\n\nexport const MessageHeader = styled.div`\n  ${() =>\n    css`\nbackground-color: #f2f2f2;\nposition:sticky;\ntop:0;\ndisplay:flex;\n jusifty-content:space-evenly;\nalign-items:center; \nwidth:100%;\nz-index:6;\n\nimg{\n  width:50px;\n  height:50px;\n  border-radius:50%;\n  margin:5px 10px;\n}\nh3{\n  margin: 0 10px;\n  font-size:1.3rem;\n}\n\np {\n  margin-bottom:5px;\n  font-size:0.8rem;\n`}\n`;\n","import React, { Component } from \"react\";\nimport conversationService from \"./../../lib/conversation-service\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { ThemeConversation } from \"./../../styles/themes\";\nimport { MessageHeader } from \"./../../styles/message-header\";\nimport { MessagePreviewSelected } from \"./../../styles/message-preview\";\nimport io from \"socket.io-client\";\nimport \"animate.css/source/animate.css\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass ConversationDetails extends Component {\n  state = {\n    conversation: {},\n    messages: [],\n    sendMessage: \"\",\n    intervalId: \"\",\n    userContact: {},\n    newMessages: [],\n    showDelete: false,\n    isTyping: false,\n    isSelected: false,\n  };\n\n  componentDidMount() {\n    this.getConversationMount();\n    // this.setTimerFromApiCall();\n    this.seenMessage();\n    // this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    const currentConversation = this.state.conversation._id;\n    const nextConversation = this.props.conversationId;\n    if (currentConversation !== nextConversation) {\n      this.getConversationMount();\n    }\n  }\n\n  startSocket = () => {\n    socket.emit(\n      \"join\",\n      { room: this.state.conversation._id, user: this.props.user._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    socket.on(\"message\", (message) => {\n      // console.log(message.text);\n      // const messages = [];\n      // messages.push(message.text);\n      // this.setState({ newMessages: messages });\n      this.getConversation();\n      this.seenMessage();\n      this.setState({ isTyping: false });\n    });\n\n    socket.on(\"online\", (user) => {});\n\n    socket.on(\"messageIsSeen\", () => {\n      this.getConversation();\n      // this.scrollToBottom();\n    });\n\n    socket.on(\"type\", () => {\n      this.setState({ isTyping: true });\n      //   this.scrollToBottom();\n    });\n\n    socket.on(\"StopType\", () => {\n      this.setState({ isTyping: false });\n    });\n\n    this.sendDelete();\n  };\n\n  scrollToBottom() {\n    this.el.scrollIntoView(); //{ behavior: \"smooth\" }\n  }\n\n  seenMessage = () => {\n    const { conversationId } = this.props;\n    socket.emit(\"messageSeen\", { room: this.state.conversation._id }, () => {});\n    conversationService\n      .messageSeen(conversationId)\n      .then((apiResponse) => {})\n      .catch((err) => console.log(err));\n  };\n\n  getConversation = () => {\n    const { conversationId } = this.props;\n    conversationService\n      .getConversationOne(conversationId)\n      .then((apiResponse) => {\n        this.setState({ conversation: apiResponse.data });\n        this.getMessages();\n        this.filterCurrentUser(); //maybe don't need\n\n        // this.seenMessage();\n      });\n  };\n\n  getConversationMount = () => {\n    const { conversationId } = this.props;\n    conversationService\n      .getConversationOne(conversationId)\n      .then((apiResponse) => {\n        this.setState({ conversation: apiResponse.data });\n        this.getMessages();\n        this.filterCurrentUser();\n        this.startSocket();\n      });\n  };\n\n  sendMessage = () => {\n    const message = this.state.sendMessage;\n    const conversationId = this.state.conversation._id;\n    console.log(message);\n    const sendObj = { conversationId, message };\n    if (message) {\n      socket.emit(\"sendMessage\", sendObj, () => {\n        console.log(\"MessageSent\");\n        this.setState({ sendMessage: \"\" });\n      });\n    }\n  };\n\n  sendDelete = () => {\n    const conversationId = this.state.conversation._id;\n\n    const sendObj = { conversationId, message: \"\" };\n\n    socket.emit(\"sendMessage\", sendObj, () => {\n      this.setState({ sendMessage: \"\" });\n    });\n  };\n\n  getMessages = () => {\n    const messages = this.state.conversation.messages;\n    if (messages.length !== this.state.messages.length) {\n      this.setState({ messages });\n      this.scrollToBottom();\n    }\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n\n    socket.emit(\"typing\", {\n      room: this.state.conversation._id,\n      value: value,\n    });\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { conversationId } = this.props;\n    const sendMessage = this.state.sendMessage;\n    const userContactId = this.state.userContact._id;\n    console.log(userContactId);\n    conversationService\n      .sendMessage(conversationId, sendMessage, userContactId)\n      .then((apiResponse) => {\n        console.log(apiResponse);\n        // this.setState({ sendMessage: \"\" });\n        this.getConversation();\n        this.sendMessage();\n\n        // this.getConversation();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  filterCurrentUser = () => {\n    const userArr = this.state.conversation.users;\n    const filteredUserArr = userArr.filter((user) => {\n      if (user._id === this.props.user._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    this.setState({ userContact: filteredUserArr[0] });\n    return filteredUserArr[0];\n  };\n\n  isAdmin = (userId) => {\n    if (userId === this.props.user._id) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  setTimerFromApiCall = () => {\n    const intervalId = setInterval(() => {\n      this.getConversation();\n    }, 5000);\n    this.setState({ intervalId: intervalId });\n  };\n\n  componentWillUnmount() {\n    socket.emit(\n      \"leaveConversation\",\n      { room: this.state.conversation._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    this.seenMessage(); // LookLater\n  }\n\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  checkSeen = () => {\n    const notificationsArr = this.state.conversation.notifications;\n    const messagesArr = this.state.conversation.messages;\n    const lastMessage = this.state.conversation.messages.length - 1;\n\n    if (\n      notificationsArr.length === 0 &&\n      messagesArr.length !== 0 &&\n      messagesArr[lastMessage].userSent._id === this.props.user._id\n    ) {\n      return \"Seen\";\n    } else {\n      return null;\n    }\n  };\n\n  deleteMessage = (messageId) => {\n    const { conversationId } = this.props;\n    conversationService\n      .deleteMessage(conversationId, messageId)\n      .then((apiResponse) => {\n        this.getConversation();\n        this.sendDelete();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleDelete = () => {\n    this.setState({ showDelete: !this.state.showDelete });\n  };\n\n  render() {\n    // if (this.state.conversation.users) {\n    //   user = this.filterCurrentUser(this.state.conversation.users);\n    // }\n    let classes = \"\";\n    if (this.state.showDelete) {\n      classes = \"slide-message\";\n    }\n\n    return (\n      <div className=\"conversation-details\">\n        <ThemeConversation dark={this.props.isDark} className=\"isMessages\">\n          <MessageHeader>\n            <img src={this.state.userContact.image} />\n            <h3>\n              {this.state.userContact.firstName}{\" \"}\n              {this.state.userContact.lastName}\n            </h3>\n          </MessageHeader>\n          <div className=\"message-background\">\n            {this.state.messages.map((message) => {\n              return (\n                <div key={message._id}>\n                  {this.isAdmin(message.userSent._id) ? (\n                    <div>\n                      <div\n                        onClick={this.toggleDelete}\n                        className={`admin-message ${classes} animated slideInRight`}\n                      >\n                        <div>{this.outputDate(message.created_at)}</div>\n                        <p>\n                          {message.userSent.firstName}: {message.messageContent}{\" \"}\n                        </p>\n                      </div>\n                      {this.state.showDelete ? (\n                        <button\n                          className=\"delete delete-message\"\n                          onClick={() => this.deleteMessage(message._id)}\n                        ></button>\n                      ) : null}\n                    </div>\n                  ) : (\n                    <div className=\"user-message animated slideInLeft\">\n                      <div>{this.outputDate(message.created_at)}</div>\n\n                      <p>\n                        {message.userSent.firstName}: {message.messageContent}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n            <div className=\"seen\">\n              {this.state.conversation.notifications && this.checkSeen()}\n            </div>\n            <div\n              ref={(el) => {\n                this.el = el;\n              }}\n            ></div>\n          </div>\n          {/* <div>\n            {this.state.newMessages.map((message) => {\n              return <p>{message}</p>;\n            })}\n          </div> */}\n\n          {this.state.isTyping ? (\n            <div className=\"typing\">\n              <div className=\"dots dot1\"></div>\n              <div className=\"dots dot2\"></div>\n              <div className=\"dots dot3\"></div>\n            </div>\n          ) : null}\n\n          <form onSubmit={this.handleSubmit} className=\"send-message\">\n            <input\n              className=\"input is-info\"\n              value={this.state.sendMessage}\n              name=\"sendMessage\"\n              onChange={this.handleInput}\n              required\n            />\n            <button className=\"button\" type=\"submit\">\n              Send\n            </button>\n          </form>\n        </ThemeConversation>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ConversationDetails);\n","import React, { Component } from \"react\";\nimport conversationService from \"./../lib/conversation-service\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport { MessagePreview } from \"./../styles/message-preview\";\nimport { Theme } from \"./../styles/themes\";\nimport ConversationListItem from \"../components/ConversationListItem/ConversationListItem\";\nimport ConversationDetailsDesktop from \"./../components/ConversationDetailsDesktop/ConversationDetailsDesktop\";\n\nimport \"animate.css/source/animate.css\";\n\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Conversation extends Component {\n  state = {\n    conversations: [],\n    online: [],\n    conversationId: \"\",\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.getConversations();\n    socket.emit(\"join-main\", { user: this.props.user._id }, (error) => {\n      if (error) {\n        console.log(error);\n      }\n    });\n    socket.on(\"online\", (users) => {\n      // console.log(\"online\");\n      // console.log(users);\n      const userIdArr = Object.values(users.users);\n\n      this.setState({ online: userIdArr });\n    });\n  }\n\n  sortConversations = () => {\n    const sortedConversation = [...this.state.conversations];\n\n    sortedConversation.sort((a, b) => {\n      if (a.updated_at > b.updated_at) {\n        return -1;\n      } else if (a.updated_at > b.updated_at) {\n        return 1;\n      }\n      return 0;\n    });\n\n    this.setState({ conversations: sortedConversation });\n  };\n\n  componentDidUpdate() {\n    // socket.on(\"online\", (user) => {});\n  }\n\n  getConversations = () => {\n    conversationService\n      .getConversations()\n      .then((apiResponse) => {\n        this.setState({ conversations: apiResponse.data });\n        this.sortConversations();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  filterCurrentUser = (userArr) => {\n    const filteredUserArr = userArr.filter((user) => {\n      if (user._id === this.props.user._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    return filteredUserArr[0];\n  };\n\n  handleConversationChoosen = (conversationId) => {\n    console.log(conversationId);\n    this.setState({ conversationId });\n  };\n\n  render() {\n    const conversations = this.state.conversations;\n\n    return (\n      <Theme dark={this.props.isDark}>\n        <div className=\"conversation-list-and-details\">\n          <div className=\"conversation-list\">\n            <h1 className=\"subtitle is-4\">Conversations</h1>\n            {conversations && conversations.length === 0 ? (\n              <p className=\"zero-conversation animated fadeIn\">\n                You have no conversations. Search for developers to chat with!\n              </p>\n            ) : (\n              conversations.map((conversation) => {\n                const user = this.filterCurrentUser(conversation.users);\n\n                const messageArrLength = conversation.messages.length - 1;\n\n                return (\n                  <div className=\"animated fadeInUp\" key={conversation._id}>\n                    <Link\n                      className=\"link-to-conversation\"\n                      to={`/conversation-details/${conversation._id}`}\n                    >\n                      <div className=\"conversations\">\n                        <MessagePreview>\n                          <ConversationListItem\n                            online={this.state.online}\n                            conversation={conversation}\n                            messageArrLength={messageArrLength}\n                            receiverUser={user}\n                          />\n                        </MessagePreview>\n                      </div>\n                    </Link>\n                    <div\n                      onClick={() => {\n                        this.handleConversationChoosen(conversation._id);\n                      }}\n                      className=\"conversations link-to-desktop-conversations\"\n                    >\n                      <MessagePreview>\n                        <ConversationListItem\n                          selected={this.state.conversationId}\n                          online={this.state.online}\n                          conversation={conversation}\n                          messageArrLength={messageArrLength}\n                          receiverUser={user}\n                        />\n                      </MessagePreview>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n          <div className=\"link-to-desktop-conversations\">\n            {this.state.conversationId === \"\" ? (\n              <h2 className=\"link-to-desktop-conversations subtitle is-4\">\n                Choose your Conversation\n              </h2>\n            ) : (\n              <ConversationDetailsDesktop\n                conversationId={this.state.conversationId}\n              />\n            )}\n          </div>\n        </div>\n      </Theme>\n    );\n  }\n}\nexport default withAuth(Conversation);\n","import React, { Component } from \"react\";\nimport conversationService from \"./../lib/conversation-service\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { Link } from \"react-router-dom\";\nimport {\n  MessagePreview,\n  MessagePreviewSelected,\n} from \"./../styles/message-preview\";\nimport { Theme } from \"./../styles/themes\";\nimport ConversationListItem from \"../components/ConversationListItem/ConversationListItem\";\nimport \"animate.css/source/animate.css\";\nimport ConversationDetailsDesktop from \"./../components/ConversationDetailsDesktop/ConversationDetailsDesktop\";\n\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass Conversation extends Component {\n  state = {\n    conversations: [],\n    online: [],\n    conversationId: \"\",\n  };\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.getConversations();\n    socket.emit(\"join-main\", { user: this.props.user._id }, (error) => {\n      if (error) {\n        console.log(error);\n      }\n    });\n    socket.on(\"online\", (users) => {\n      // console.log(\"online\");\n      // console.log(users);\n      const userIdArr = Object.values(users.users);\n\n      this.setState({ online: userIdArr });\n    });\n  }\n\n  sortConversations = () => {\n    const sortedConversation = [...this.state.conversations];\n\n    sortedConversation.sort((a, b) => {\n      if (a.updated_at > b.updated_at) {\n        return -1;\n      } else if (a.updated_at > b.updated_at) {\n        return 1;\n      }\n      return 0;\n    });\n\n    this.setState({ conversations: sortedConversation });\n  };\n\n  componentDidUpdate() {\n    // socket.on(\"online\", (user) => {});\n  }\n\n  getConversations = () => {\n    conversationService\n      .getConversations()\n      .then((apiResponse) => {\n        this.setState({ conversations: apiResponse.data });\n        this.sortConversations();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  filterCurrentUser = (userArr) => {\n    const filteredUserArr = userArr.filter((user) => {\n      if (user._id === this.props.user._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    return filteredUserArr[0];\n  };\n\n  handleConversationChoosen = (conversationId) => {\n    console.log(conversationId);\n    this.setState({ conversationId });\n  };\n\n  render() {\n    const conversations = this.state.conversations;\n    return (\n      <Theme dark={this.props.isDark}>\n        <div className=\"conversation-list-and-details\">\n          <div className=\"conversation-list\">\n            <h1 className=\"subtitle is-4\">Conversations</h1>\n            {conversations && conversations.length === 0 ? (\n              <p className=\"zero-conversation animated fadeIn\">\n                You have no conversations. Search for developers to chat with!\n              </p>\n            ) : (\n              conversations.map((conversation) => {\n                const user = this.filterCurrentUser(conversation.users);\n\n                const messageArrLength = conversation.messages.length - 1;\n\n                return (\n                  <div className=\"animated fadeInUp\" key={conversation._id}>\n                    {/* <Link to={`/conversation-details/${conversation._id}`}> */}\n                    <div\n                      onClick={() => {\n                        this.handleConversationChoosen(conversation._id);\n                      }}\n                      className=\"conversations\"\n                    >\n                      <MessagePreview>\n                        <ConversationListItem\n                          selected={this.state.conversationId}\n                          online={this.state.online}\n                          conversation={conversation}\n                          messageArrLength={messageArrLength}\n                          receiverUser={user}\n                        />\n                      </MessagePreview>\n                    </div>\n                    {/* </Link> */}\n                  </div>\n                );\n              })\n            )}\n          </div>\n          {this.state.conversationId === \"\" ? (\n            <p>Conversations</p>\n          ) : (\n            <ConversationDetailsDesktop\n              conversationId={this.state.conversationId}\n            />\n          )}\n        </div>\n      </Theme>\n    );\n  }\n}\nexport default withAuth(Conversation);\n","import React, { Component } from \"react\";\nimport conversationService from \"./../lib/conversation-service\";\nimport { withAuth } from \"./../context/auth-context\";\nimport { ThemeConversation } from \"./../styles/themes\";\nimport { MessageHeader } from \"./../styles/message-header\";\nimport io from \"socket.io-client\";\n\n//const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = process.env.REACT_APP_API_URL;\nlet socket = io(ENDPOINT);\n\nclass ConversationDetails extends Component {\n  state = {\n    conversation: {},\n    messages: [],\n    sendMessage: \"\",\n    intervalId: \"\",\n    userContact: {},\n    newMessages: [],\n    showDelete: false,\n    isTyping: false,\n  };\n\n  componentDidMount() {\n    this.getConversationMount();\n    // this.setTimerFromApiCall();\n    this.seenMessage();\n    this.scrollToBottom();\n  }\n\n  startSocket = () => {\n    socket.emit(\n      \"join\",\n      { room: this.state.conversation._id, user: this.props.user._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    socket.on(\"message\", (message) => {\n      // console.log(message.text);\n      // const messages = [];\n      // messages.push(message.text);\n      // this.setState({ newMessages: messages });\n      this.getConversation();\n      this.seenMessage();\n      this.setState({ isTyping: false });\n    });\n\n    socket.on(\"online\", (user) => {});\n\n    socket.on(\"messageIsSeen\", () => {\n      this.getConversation();\n      // this.scrollToBottom();\n    });\n\n    socket.on(\"type\", () => {\n      this.setState({ isTyping: true });\n      // this.scrollToBottom();\n    });\n\n    socket.on(\"StopType\", () => {\n      this.setState({ isTyping: false });\n    });\n\n    this.sendDelete();\n  };\n\n  scrollToBottom() {\n    this.el.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  seenMessage = () => {\n    const { conversationId } = this.props.match.params;\n    socket.emit(\"messageSeen\", { room: this.state.conversation._id }, () => {\n      console.log(\"message-seen\");\n    });\n    conversationService\n      .messageSeen(conversationId)\n      .then((apiResponse) => {})\n      .catch((err) => console.log(err));\n  };\n\n  getConversation = () => {\n    const { conversationId } = this.props.match.params;\n    conversationService\n      .getConversationOne(conversationId)\n      .then((apiResponse) => {\n        this.setState({ conversation: apiResponse.data });\n        this.getMessages();\n        this.filterCurrentUser(); //maybe don't need\n\n        // this.seenMessage();\n      });\n  };\n\n  getConversationMount = () => {\n    const { conversationId } = this.props.match.params;\n    conversationService\n      .getConversationOne(conversationId)\n      .then((apiResponse) => {\n        this.setState({ conversation: apiResponse.data });\n        this.getMessages();\n        this.filterCurrentUser();\n        this.startSocket();\n      });\n  };\n\n  sendMessage = () => {\n    const message = this.state.sendMessage;\n    const conversationId = this.state.conversation._id;\n    console.log(message);\n    const sendObj = { conversationId, message };\n    if (message) {\n      socket.emit(\"sendMessage\", sendObj, () => {\n        console.log(\"MessageSent\");\n        this.setState({ sendMessage: \"\" });\n      });\n    }\n  };\n\n  sendDelete = () => {\n    const conversationId = this.state.conversation._id;\n\n    const sendObj = { conversationId, message: \"\" };\n\n    socket.emit(\"sendMessage\", sendObj, () => {\n      this.setState({ sendMessage: \"\" });\n    });\n  };\n\n  getMessages = () => {\n    const messages = this.state.conversation.messages;\n    if (messages.length !== this.state.messages.length) {\n      this.setState({ messages });\n      this.scrollToBottom();\n    }\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n\n    socket.emit(\"typing\", {\n      room: this.state.conversation._id,\n      value: value,\n    });\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { conversationId } = this.props.match.params;\n    const sendMessage = this.state.sendMessage;\n    const userContactId = this.state.userContact._id;\n    console.log(userContactId);\n    conversationService\n      .sendMessage(conversationId, sendMessage, userContactId)\n      .then((apiResponse) => {\n        console.log(apiResponse);\n        // this.setState({ sendMessage: \"\" });\n        this.getConversation();\n        this.sendMessage();\n\n        // this.getConversation();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  filterCurrentUser = () => {\n    const userArr = this.state.conversation.users;\n    const filteredUserArr = userArr.filter((user) => {\n      if (user._id === this.props.user._id) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    this.setState({ userContact: filteredUserArr[0] });\n    return filteredUserArr[0];\n  };\n\n  isAdmin = (userId) => {\n    if (userId === this.props.user._id) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  setTimerFromApiCall = () => {\n    const intervalId = setInterval(() => {\n      this.getConversation();\n    }, 5000);\n    this.setState({ intervalId: intervalId });\n  };\n\n  componentWillUnmount() {\n    console.log(\"leave conversation\");\n    socket.emit(\n      \"leaveConversation\",\n      { room: this.state.conversation._id },\n      (error) => {\n        if (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    this.seenMessage(); // LookLater\n  }\n\n  outputDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = date.toDateString().split(\" \").slice(0, 3).join(\" \");\n\n    const time = date.toLocaleString().split(\" \").reverse()[0].slice(0, 5);\n    return time + \" \" + day;\n  };\n\n  checkSeen = () => {\n    const notificationsArr = this.state.conversation.notifications;\n    const messagesArr = this.state.conversation.messages;\n    const lastMessage = this.state.conversation.messages.length - 1;\n\n    if (\n      notificationsArr.length === 0 &&\n      messagesArr.length !== 0 &&\n      messagesArr[lastMessage].userSent._id === this.props.user._id\n    ) {\n      return \"Seen\";\n    } else {\n      return null;\n    }\n  };\n\n  deleteMessage = (messageId) => {\n    const { conversationId } = this.props.match.params;\n    conversationService\n      .deleteMessage(conversationId, messageId)\n      .then((apiResponse) => {\n        this.getConversation();\n        this.sendDelete();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleDelete = () => {\n    this.setState({ showDelete: !this.state.showDelete });\n  };\n\n  render() {\n    // if (this.state.conversation.users) {\n    //   user = this.filterCurrentUser(this.state.conversation.users);\n    // }\n    let classes = \"\";\n    if (this.state.showDelete) {\n      classes = \"slide-message\";\n    }\n\n    return (\n      <div className=\"conversation-details\">\n        <ThemeConversation dark={this.props.isDark} className=\"isMessages\">\n          <MessageHeader>\n            <img src={this.state.userContact.image} />\n            <h3>\n              {this.state.userContact.firstName}{\" \"}\n              {this.state.userContact.lastName}\n            </h3>\n          </MessageHeader>\n          <div className=\"message-background\">\n            {this.state.messages.map((message) => {\n              return (\n                <div key={message._id}>\n                  {this.isAdmin(message.userSent._id) ? (\n                    <div>\n                      <div\n                        onClick={this.toggleDelete}\n                        className={`admin-message ${classes}`}\n                      >\n                        <div>{this.outputDate(message.created_at)}</div>\n                        <p>\n                          {message.userSent.firstName}: {message.messageContent}{\" \"}\n                        </p>\n                      </div>\n                      {this.state.showDelete ? (\n                        <button\n                          className=\"delete delete-message\"\n                          onClick={() => this.deleteMessage(message._id)}\n                        ></button>\n                      ) : null}\n                    </div>\n                  ) : (\n                    <div className=\"user-message\">\n                      <div>{this.outputDate(message.created_at)}</div>\n\n                      <p>\n                        {message.userSent.firstName}: {message.messageContent}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n            <div className=\"seen\">\n              {this.state.conversation.notifications && this.checkSeen()}\n            </div>\n            <div\n              ref={(el) => {\n                this.el = el;\n              }}\n            ></div>\n          </div>\n          {/* <div>\n            {this.state.newMessages.map((message) => {\n              return <p>{message}</p>;\n            })}\n          </div> */}\n\n          {this.state.isTyping ? (\n            <div className=\"typing\">\n              <div className=\"dots dot1\"></div>\n              <div className=\"dots dot2\"></div>\n              <div className=\"dots dot3\"></div>\n            </div>\n          ) : null}\n\n          <form onSubmit={this.handleSubmit} className=\"send-message\">\n            <input\n              className=\"input is-info\"\n              value={this.state.sendMessage}\n              name=\"sendMessage\"\n              onChange={this.handleInput}\n              required\n            />\n            <button className=\"button\" type=\"submit\">\n              Send\n            </button>\n          </form>\n        </ThemeConversation>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(ConversationDetails);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/private\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { withAuth } from \"./context/auth-context\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport Private from \"./pages/Private\";\nimport PrivateHook from \"./pages/PrivateHook\";\nimport Search from \"./pages/Search\";\nimport Profile from \"./pages/Profile\";\nimport ProfileHook from \"./pages/ProfileHook\";\n\nimport PostDetails from \"./pages/PostDetails\";\nimport ConversationList from \"./pages/ConversationList\";\nimport ConversationListDesktop from \"./pages/ConversationListDesktop\";\nimport ConversationDetails from \"./pages/ConversationDetails\";\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { Theme } from \"./styles/themes\";\n\nclass App extends Component {\n  render() {\n    console.log(window.innerWidth < 1023);\n\n    return (\n      <div className=\"container\">\n        <Theme dark={this.props.isDark}>\n          <div className=\"container-side-nav\">\n            <Navbar />\n            <div className=\"side-nav-pages\">\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n\n                <AnonRoute exact path=\"/signup\" component={Signup} />\n                <AnonRoute exact path=\"/login\" component={Login} />\n\n                <PrivateRoute exact path=\"/private\" component={PrivateHook} />\n                <PrivateRoute exact path=\"/search\" component={Search} />\n                <PrivateRoute\n                  exact\n                  path=\"/profile/:id\"\n                  component={ProfileHook}\n                />\n                <PrivateRoute\n                  exact\n                  path=\"/postdetails/:postId\"\n                  component={PostDetails}\n                />\n                {/* {window.innerWidth < 1023 ? ( */}\n                <PrivateRoute\n                  exact\n                  path=\"/conversations\"\n                  component={ConversationList}\n                />\n                {/* ) : (\n                  <PrivateRoute\n                    exact\n                    path=\"/conversations\"\n                    component={ConversationListDesktop}\n                  />\n                )} */}\n\n                <PrivateRoute\n                  exact\n                  path=\"/conversation-details/:conversationId\"\n                  component={ConversationDetails}\n                />\n              </Switch>\n            </div>\n          </div>\n          <div id=\"nav-space\"></div>\n        </Theme>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}